2020/07/11 13:28:00.388 [I] [asm_amd64.s:1373]  http server Running on http://:8080
2020/07/11 13:30:27.642 [I] [asm_amd64.s:1373]  http server Running on http://:8080
2020/07/11 13:30:39.256 [main.go:868]  [ORM] sqlD:/Goproject/src/lyx-blog/models/note.go:400sSELECT * FROM "notes"  WHERE "notes"."deleted_at" IS NULL AND ((title like ?)) ORDER BY updated_at DESC LIMIT 3 OFFSET 0[%%] 0
2020/07/11 13:30:39.256 [main.go:868]  [ORM] sqlD:/Goproject/src/lyx-blog/models/note.go:340sSELECT count(*) FROM "notes"  WHERE "notes"."deleted_at" IS NULL AND ((title like ?))[%%] 0
2020/07/11 13:30:39.258 [D] [server.go:2807]  |      127.0.0.1|[42m 200 [0m|     5.0011ms|   match|[44m GET     [0m /     r:/
2020/07/11 13:30:39.288 [D] [server.go:2807]  |      127.0.0.1|[42m 200 [0m|           0s|   match|[44m GET     [0m /static/layui/css/layui.css
2020/07/11 13:30:39.289 [D] [server.go:2807]  |      127.0.0.1|[42m 200 [0m|     1.0008ms|   match|[44m GET     [0m /static/css/mian.css
2020/07/11 13:30:39.359 [D] [server.go:2807]  |      127.0.0.1|[42m 200 [0m|      999.7Âµs|   match|[44m GET     [0m /static/layui/layui.js
2020/07/11 13:30:39.359 [D] [server.go:2807]  |      127.0.0.1|[42m 200 [0m|      999.7Âµs|   match|[44m GET     [0m /static/images/logo.png
2020/07/11 13:30:39.359 [D] [server.go:2807]  |      127.0.0.1|[42m 200 [0m|           0s|   match|[44m GET     [0m /static/images/logo-text.png
2020/07/11 13:30:39.404 [D] [server.go:2807]  |      127.0.0.1|[42m 200 [0m|           0s|   match|[44m GET     [0m /static/js/blog.js
2020/07/11 13:30:39.406 [D] [server.go:2807]  |      127.0.0.1|[42m 200 [0m|     1.0016ms|   match|[44m GET     [0m /static/layui/font/iconfont.woff
2020/07/11 13:30:39.420 [D] [server.go:2807]  |      127.0.0.1|[42m 200 [0m|      998.5Âµs|   match|[44m GET     [0m /static/layui/lay/modules/element.js
2020/07/11 13:30:39.424 [D] [server.go:2807]  |      127.0.0.1|[42m 200 [0m|     1.0004ms|   match|[44m GET     [0m /static/layui/lay/modules/jquery.js
2020/07/11 13:30:39.449 [D] [server.go:2807]  |      127.0.0.1|[42m 200 [0m|      998.1Âµs|   match|[44m GET     [0m /static/layui/lay/modules/form.js
2020/07/11 13:30:39.475 [D] [server.go:2807]  |      127.0.0.1|[42m 200 [0m|           0s|   match|[44m GET     [0m /static/layui/lay/modules/layer.js
2020/07/11 13:30:39.480 [D] [server.go:2807]  |      127.0.0.1|[42m 200 [0m|           0s|   match|[44m GET     [0m /static/layui/css/modules/layer/default/layer.css
2020/07/11 13:30:39.482 [D] [server.go:2807]  |      127.0.0.1|[42m 200 [0m|           0s|   match|[44m GET     [0m /static/layui/lay/modules/laypage.js
2020/07/11 13:30:39.485 [D] [server.go:2807]  |      127.0.0.1|[42m 200 [0m|           0s|   match|[44m GET     [0m /static/layui/lay/modules/laytpl.js
2020/07/11 13:30:39.489 [D] [server.go:2807]  |      127.0.0.1|[42m 200 [0m|        999Âµs|   match|[44m GET     [0m /static/js/sysn.js
2020/07/11 13:30:42.338 [D] [server.go:2807]  |      127.0.0.1|[42m 200 [0m|     2.0016ms|   match|[44m GET     [0m /message   r:/message
2020/07/11 13:30:42.421 [main.go:868]  [ORM] sqlD:/Goproject/src/lyx-blog/models/message.go:291.0004msSELECT count(*) FROM "messages"  WHERE "messages"."deleted_at" IS NULL AND ((note_key = ?))[] 0
2020/07/11 13:30:42.421 [D] [server.go:2807]  |      127.0.0.1|[42m 200 [0m|     1.0004ms|   match|[44m GET     [0m /message/count   r:message/count
2020/07/11 13:30:43.848 [D] [server.go:2807]  |      127.0.0.1|[42m 200 [0m|     3.0018ms|   match|[44m GET     [0m /about   r:/about
2020/07/11 13:30:45.211 [D] [server.go:2807]  |      127.0.0.1|[42m 200 [0m|     3.0009ms|   match|[44m GET     [0m /user   r:/user
2020/07/11 13:30:50.008 [D] [server.go:2807]  |      127.0.0.1|[42m 200 [0m|      998.2Âµs|   match|[44m GET     [0m /static/layui/css/modules/layer/default/icon.png
2020/07/11 13:30:52.087 [main.go:868]  [ORM] sqlD:/Goproject/src/lyx-blog/models/user.go:16999.7ÂµsSELECT * FROM "users"  WHERE "users"."deleted_at" IS NULL AND ((email=? and pwd=?)) LIMIT 1[admin@qq.com 123456] 1
2020/07/11 13:30:52.087 [D] [server.go:2807]  |      127.0.0.1|[42m 200 [0m|      999.7Âµs|   match|[46m POST    [0m /login   r:/login
2020/07/11 13:30:52.419 [main.go:868]  [ORM] sqlD:/Goproject/src/lyx-blog/models/note.go:400sSELECT * FROM "notes"  WHERE "notes"."deleted_at" IS NULL AND ((title like ?)) ORDER BY updated_at DESC LIMIT 3 OFFSET 0[%%] 0
2020/07/11 13:30:52.419 [main.go:868]  [ORM] sqlD:/Goproject/src/lyx-blog/models/note.go:340sSELECT count(*) FROM "notes"  WHERE "notes"."deleted_at" IS NULL AND ((title like ?))[%%] 0
2020/07/11 13:30:52.423 [D] [server.go:2807]  |      127.0.0.1|[42m 200 [0m|     4.9994ms|   match|[44m GET     [0m /     r:/
2020/07/11 13:30:57.042 [D] [server.go:2807]  |      127.0.0.1|[42m 200 [0m|     2.0073ms|   match|[44m GET     [0m /user   r:/user
2020/07/11 13:30:58.089 [D] [server.go:2807]  |      127.0.0.1|[42m 200 [0m|     2.0023ms|   match|[44m GET     [0m /note/new   r:note/new
2020/07/11 13:30:58.109 [D] [server.go:2807]  |      127.0.0.1|[42m 200 [0m|     4.0017ms|   match|[44m GET     [0m /static/lib/wangEditor/plus/wangEditor-fullscreen-plugin.css
2020/07/11 13:30:58.140 [D] [server.go:2807]  |      127.0.0.1|[42m 200 [0m|    35.0002ms|   match|[44m GET     [0m /static/lib/wangEditor/wangEditor.js
2020/07/11 13:31:07.215 [main.go:868]  [ORM] sqlD:/Goproject/src/lyx-blog/models/note.go:240sSELECT * FROM "notes"  WHERE "notes"."deleted_at" IS NULL AND ((key = ?)) LIMIT 1[4a2a8824-5ae7-4bef-ae58-d3f4914fe00c] 0
2020/07/11 13:31:07.218 [main.go:868]  [ORM] sqlD:/Goproject/src/lyx-blog/models/note.go:292.0034msUPDATE "users" SET "created_at" = ?, "updated_at" = ?, "deleted_at" = ?, "name" = ?, "email" = ?, "pwd" = ?, "avatar" = ?, "editor" = ?, "role" = ?  WHERE "users"."deleted_at" IS NULL AND "users"."id" = ?[2020-07-11 13:22:22.5863856 +0800 CST 2020-07-11 13:31:07.2168408 +0800 CST m=+39.724870101 <nil> admin admin@qq.com 123456 /static/images/info-img.png  0 1] 1
2020/07/11 13:31:07.218 [main.go:868]  [ORM] sqlD:/Goproject/src/lyx-blog/models/note.go:290sINSERT INTO "notes" ("created_at","updated_at","deleted_at","key","user_id","title","summary","content","source","editor","files") VALUES (?,?,?,?,?,?,?,?,?,?,?)[2020-07-11 13:31:07.2188442 +0800 CST m=+39.726873501 2020-07-11 13:31:07.2188442 +0800 CST m=+39.726873501 <nil> 4a2a8824-5ae7-4bef-ae58-d3f4914fe00c 1 mysql ä»€ä¹ˆæ˜¯äº‹åŠ¡

äº‹åŠ¡æ˜¯åº”ç”¨ç¨‹åºä¸­ä¸€ç³»åˆ—ä¸¥å¯†çš„æ“ä½œï¼Œæ‰€æœ‰æ“ä½œå¿…é¡»æˆåŠŸå®Œæˆï¼Œå¦åˆ™åœ¨æ¯ä¸ªæ“ä½œä¸­æ‰€ä½œçš„æ‰€æœ‰æ›´æ”¹éƒ½ä¼šè¢«æ’¤æ¶ˆã€‚ä¹Ÿå°±æ˜¯äº‹åŠ¡å…·æœ‰åŸå­æ€§ï¼Œä¸€ä¸ªäº‹åŠ¡ä¸­çš„ä¸€ç³»åˆ—çš„æ“ä½œè¦ä¹ˆå…¨éƒ¨æˆåŠŸï¼Œè¦ä¹ˆä¸€ä¸ªéƒ½ä¸åšã€‚
äº‹åŠ¡çš„ç»“æŸæœ‰ä¸¤ç§ï¼Œå½“äº‹åŠ¡ä¸­çš„æ‰€ä»¥æ­¥éª¤å…¨éƒ¨æˆåŠŸæ‰§è¡Œæ—¶ï¼Œäº‹åŠ¡æäº¤ã€‚å¦‚æœå…¶ä¸­ä¸€ä¸ªæ­¥éª¤å¤±è´¥ï¼Œå°†å‘ç”Ÿå›æ»šæ“ä½œï¼Œæ’¤æ¶ˆæ’¤æ¶ˆä¹‹å‰åˆ°äº‹åŠ¡å¼€å§‹æ—¶çš„æ‰€ä»¥æ“ä½œã€‚

äº‹åŠ¡çš„ ACID
äº‹åŠ¡å…·æœ‰å››ä¸ªç‰¹å¾ï¼šåŸå­æ€§ï¼ˆ Atomicity ï¼‰ã€ä¸€è‡´æ€§ï¼ˆ Consistency ï¼‰ã€éš”ç¦»æ€§ï¼ˆ Isolation ï¼‰å’ŒæŒç»­æ€§ï¼ˆ Durabilityï¼‰ã€‚è¿™å››ä¸ªç‰¹æ€§ç®€ç§°ä¸º ACID ç‰¹æ€§ã€‚

1 ã€åŸå­æ€§ã€‚äº‹åŠ¡æ˜¯æ•°æ®åº“çš„é€»è¾‘å·¥ä½œå•ä½ï¼Œäº‹åŠ¡ä¸­åŒ…å«çš„å„æ“ä½œè¦ä¹ˆéƒ½åšï¼Œè¦ä¹ˆéƒ½ä¸åš
2 ã€ä¸€è‡´æ€§ã€‚äº‹ åŠ¡æ‰§è¡Œçš„ç»“æœå¿…é¡»æ˜¯ä½¿æ•°æ®åº“ä»ä¸€ä¸ªä¸€è‡´æ€§çŠ¶æ€å˜åˆ°å¦ä¸€ä¸ªä¸€è‡´æ€§çŠ¶æ€ã€‚å› æ­¤å½“æ•°æ®åº“åªåŒ…å«æˆåŠŸäº‹åŠ¡æäº¤çš„ç»“æœæ—¶ï¼Œå°±è¯´æ•°æ®åº“å¤„äºä¸€è‡´æ€§çŠ¶æ€ã€‚å¦‚æœæ•°æ®åº“ç³»ç»Ÿ è¿è¡Œä¸­å‘ç”Ÿ... <div><div><h3><strong>ä»€ä¹ˆæ˜¯äº‹åŠ¡</strong></h3>
<blockquote>
<p>äº‹åŠ¡æ˜¯åº”ç”¨ç¨‹åºä¸­ä¸€ç³»åˆ—ä¸¥å¯†çš„æ“ä½œï¼Œæ‰€æœ‰æ“ä½œå¿…é¡»æˆåŠŸå®Œæˆï¼Œå¦åˆ™åœ¨æ¯ä¸ªæ“ä½œä¸­æ‰€ä½œçš„æ‰€æœ‰æ›´æ”¹éƒ½ä¼šè¢«æ’¤æ¶ˆã€‚ä¹Ÿå°±æ˜¯äº‹åŠ¡å…·æœ‰åŸå­æ€§ï¼Œä¸€ä¸ªäº‹åŠ¡ä¸­çš„ä¸€ç³»åˆ—çš„æ“ä½œè¦ä¹ˆå…¨éƒ¨æˆåŠŸï¼Œè¦ä¹ˆä¸€ä¸ªéƒ½ä¸åšã€‚</p>
<p>äº‹åŠ¡çš„ç»“æŸæœ‰ä¸¤ç§ï¼Œå½“äº‹åŠ¡ä¸­çš„æ‰€ä»¥æ­¥éª¤å…¨éƒ¨æˆåŠŸæ‰§è¡Œæ—¶ï¼Œäº‹åŠ¡æäº¤ã€‚å¦‚æœå…¶ä¸­ä¸€ä¸ªæ­¥éª¤å¤±è´¥ï¼Œå°†å‘ç”Ÿå›æ»šæ“ä½œï¼Œæ’¤æ¶ˆæ’¤æ¶ˆä¹‹å‰åˆ°äº‹åŠ¡å¼€å§‹æ—¶çš„æ‰€ä»¥æ“ä½œã€‚</p>
</blockquote>
<p><strong>äº‹åŠ¡çš„ ACID</strong></p>
<p>äº‹åŠ¡å…·æœ‰å››ä¸ªç‰¹å¾ï¼šåŸå­æ€§ï¼ˆ Atomicity ï¼‰ã€ä¸€è‡´æ€§ï¼ˆ Consistency ï¼‰ã€éš”ç¦»æ€§ï¼ˆ Isolation ï¼‰å’ŒæŒç»­æ€§ï¼ˆ Durabilityï¼‰ã€‚è¿™å››ä¸ªç‰¹æ€§ç®€ç§°ä¸º ACID ç‰¹æ€§ã€‚</p>
<blockquote>
<p>1 ã€åŸå­æ€§ã€‚äº‹åŠ¡æ˜¯æ•°æ®åº“çš„é€»è¾‘å·¥ä½œå•ä½ï¼Œäº‹åŠ¡ä¸­åŒ…å«çš„å„æ“ä½œè¦ä¹ˆéƒ½åšï¼Œè¦ä¹ˆéƒ½ä¸åš</p>
<p>2 ã€ä¸€è‡´æ€§ã€‚äº‹ åŠ¡æ‰§è¡Œçš„ç»“æœå¿…é¡»æ˜¯ä½¿æ•°æ®åº“ä»ä¸€ä¸ªä¸€è‡´æ€§çŠ¶æ€å˜åˆ°å¦ä¸€ä¸ªä¸€è‡´æ€§çŠ¶æ€ã€‚å› æ­¤å½“æ•°æ®åº“åªåŒ…å«æˆåŠŸäº‹åŠ¡æäº¤çš„ç»“æœæ—¶ï¼Œå°±è¯´æ•°æ®åº“å¤„äºä¸€è‡´æ€§çŠ¶æ€ã€‚å¦‚æœæ•°æ®åº“ç³»ç»Ÿ è¿è¡Œä¸­å‘ç”Ÿæ•…éšœï¼Œæœ‰äº›äº‹åŠ¡å°šæœªå®Œæˆå°±è¢«è¿«ä¸­æ–­ï¼Œè¿™äº›æœªå®Œæˆäº‹åŠ¡å¯¹æ•°æ®åº“æ‰€åšçš„ä¿®æ”¹æœ‰ä¸€éƒ¨åˆ†å·²å†™å…¥ç‰©ç†æ•°æ®åº“ï¼Œè¿™æ—¶æ•°æ®åº“å°±å¤„äºä¸€ç§ä¸æ­£ç¡®çš„çŠ¶æ€ï¼Œæˆ–è€…è¯´æ˜¯ ä¸ä¸€è‡´çš„çŠ¶æ€ã€‚</p>
<p>3 ã€éš”ç¦»æ€§ã€‚ä¸€ä¸ªäº‹åŠ¡çš„æ‰§è¡Œä¸èƒ½å…¶å®ƒäº‹åŠ¡å¹²æ‰°ã€‚å³ä¸€ä¸ªäº‹åŠ¡å†…éƒ¨çš„æ“ä½œåŠä½¿ç”¨çš„æ•°æ®å¯¹å…¶å®ƒå¹¶å‘äº‹åŠ¡æ˜¯éš”ç¦»çš„ï¼Œå¹¶å‘æ‰§è¡Œçš„å„ä¸ªäº‹åŠ¡ä¹‹é—´ä¸èƒ½äº’ç›¸å¹²æ‰°ã€‚</p>
<p>4 ã€æŒç»­æ€§ã€‚ä¹Ÿç§°æ°¸ä¹…æ€§ï¼ŒæŒ‡ä¸€ä¸ªäº‹åŠ¡ä¸€æ—¦æäº¤ï¼Œå®ƒå¯¹æ•°æ®åº“ä¸­çš„æ•°æ®çš„æ”¹å˜å°±åº”è¯¥æ˜¯æ°¸ä¹…æ€§çš„ã€‚æ¥ä¸‹æ¥çš„å…¶å®ƒæ“ä½œæˆ–æ•…éšœä¸åº”è¯¥å¯¹å…¶æ‰§è¡Œç»“æœæœ‰ä»»ä½•å½±å“ã€‚</p>
</blockquote>
<hr>
<p><strong>Mysqlçš„å››ç§éš”ç¦»çº§åˆ«</strong></p>
<p>SQLæ ‡å‡†å®šä¹‰äº†4ç±»éš”ç¦»çº§åˆ«ï¼ŒåŒ…æ‹¬äº†ä¸€äº›å…·ä½“è§„åˆ™ï¼Œç”¨æ¥é™å®šäº‹åŠ¡å†…å¤–çš„å“ªäº›æ”¹å˜æ˜¯å¯è§çš„ï¼Œå“ªäº›æ˜¯ä¸å¯è§çš„ã€‚ä½çº§åˆ«çš„éš”ç¦»çº§ä¸€èˆ¬æ”¯æŒæ›´é«˜çš„å¹¶å‘å¤„ç†ï¼Œå¹¶æ‹¥æœ‰æ›´ä½çš„ç³»ç»Ÿå¼€é”€ã€‚</p>
<blockquote>
<p><strong>Read Uncommittedï¼ˆè¯»å–æœªæäº¤å†…å®¹ï¼‰</strong></p>
<p>åœ¨è¯¥éš”ç¦»çº§åˆ«ï¼Œæ‰€æœ‰äº‹åŠ¡éƒ½å¯ä»¥çœ‹åˆ°å…¶ä»–æœªæäº¤äº‹åŠ¡çš„æ‰§è¡Œç»“æœã€‚æœ¬éš”ç¦»çº§åˆ«å¾ˆå°‘ç”¨äºå®é™…åº”ç”¨ï¼Œå› ä¸ºå®ƒçš„æ€§èƒ½ä¹Ÿä¸æ¯”å…¶ä»–çº§åˆ«å¥½å¤šå°‘ã€‚è¯»å–æœªæäº¤çš„æ•°æ®ï¼Œä¹Ÿè¢«ç§°ä¹‹ä¸ºè„è¯»ï¼ˆDirty Readï¼‰ã€‚</p>
<p><strong>Read Committedï¼ˆè¯»å–æäº¤å†…å®¹ï¼‰</strong></p>
<p>è¿™æ˜¯å¤§å¤šæ•°æ•°æ®åº“ç³»ç»Ÿçš„é»˜è®¤éš”ç¦»çº§åˆ«ï¼ˆä½†ä¸æ˜¯MySQLé»˜è®¤çš„ï¼‰ã€‚å®ƒæ»¡è¶³äº†éš”ç¦»çš„ç®€å•å®šä¹‰ï¼šä¸€ä¸ªäº‹åŠ¡åªèƒ½çœ‹è§å·²ç»æäº¤äº‹åŠ¡æ‰€åšçš„æ”¹å˜ã€‚è¿™ç§éš”ç¦»çº§åˆ« ä¹Ÿæ”¯æŒæ‰€è°“çš„ä¸å¯é‡å¤è¯»ï¼ˆNonrepeatable Readï¼‰ï¼Œå› ä¸ºåŒä¸€äº‹åŠ¡çš„å…¶ä»–å®ä¾‹åœ¨è¯¥å®ä¾‹å¤„ç†å…¶é—´å¯èƒ½ä¼šæœ‰æ–°çš„commitï¼Œæ‰€ä»¥åŒä¸€selectå¯èƒ½è¿”å›ä¸åŒç»“æœã€‚</p>
<p><strong>Repeatable Readï¼ˆå¯é‡è¯»ï¼‰</strong></p>
<p>è¿™æ˜¯MySQLçš„é»˜è®¤äº‹åŠ¡éš”ç¦»çº§åˆ«ï¼Œå®ƒç¡®ä¿åŒä¸€äº‹åŠ¡çš„å¤šä¸ªå®ä¾‹åœ¨å¹¶å‘è¯»å–æ•°æ®æ—¶ï¼Œä¼šçœ‹åˆ°åŒæ ·çš„æ•°æ®è¡Œã€‚ä¸è¿‡ç†è®ºä¸Šï¼Œè¿™ä¼šå¯¼è‡´å¦ä¸€ä¸ªæ£˜æ‰‹çš„é—®é¢˜ï¼šå¹»è¯» ï¼ˆPhantom Readï¼‰ã€‚ç®€å•çš„è¯´ï¼Œå¹»è¯»æŒ‡å½“ç”¨æˆ·è¯»å–æŸä¸€èŒƒå›´çš„æ•°æ®è¡Œæ—¶ï¼Œå¦ä¸€ä¸ªäº‹åŠ¡åˆåœ¨è¯¥èŒƒå›´å†…æ’å…¥äº†æ–°è¡Œï¼Œå½“ç”¨æˆ·å†è¯»å–è¯¥èŒƒå›´çš„æ•°æ®è¡Œæ—¶ï¼Œä¼šå‘ç°æœ‰æ–°çš„â€œå¹»å½±â€ è¡Œã€‚InnoDBå’ŒFalconå­˜å‚¨å¼•æ“é€šè¿‡å¤šç‰ˆæœ¬å¹¶å‘æ§åˆ¶ï¼ˆMVCCï¼ŒMultiversion Concurrency Controlï¼‰æœºåˆ¶è§£å†³äº†è¯¥é—®é¢˜ã€‚</p>
<p><strong>Serializableï¼ˆå¯ä¸²è¡ŒåŒ–ï¼‰</strong></p>
<p>è¿™æ˜¯æœ€é«˜çš„éš”ç¦»çº§åˆ«ï¼Œå®ƒé€šè¿‡å¼ºåˆ¶äº‹åŠ¡æ’åºï¼Œä½¿ä¹‹ä¸å¯èƒ½ç›¸äº’å†²çªï¼Œä»è€Œè§£å†³å¹»è¯»é—®é¢˜ã€‚ç®€è¨€ä¹‹ï¼Œå®ƒæ˜¯åœ¨æ¯ä¸ªè¯»çš„æ•°æ®è¡Œä¸ŠåŠ ä¸Šå…±äº«é”ã€‚åœ¨è¿™ä¸ªçº§åˆ«ï¼Œå¯èƒ½å¯¼è‡´å¤§é‡çš„è¶…æ—¶ç°è±¡å’Œé”ç«äº‰ã€‚</p>
<p>è¿™å››ç§éš”ç¦»çº§åˆ«é‡‡å–ä¸åŒçš„é”ç±»å‹æ¥å®ç°ï¼Œè‹¥è¯»å–çš„æ˜¯åŒä¸€ä¸ªæ•°æ®çš„è¯ï¼Œå°±å®¹æ˜“å‘ç”Ÿé—®é¢˜ã€‚ä¾‹å¦‚ï¼š</p>
<p>è„è¯»(Drity Read)ï¼šæŸä¸ªäº‹åŠ¡å·²æ›´æ–°ä¸€ä»½æ•°æ®ï¼Œå¦ä¸€ä¸ªäº‹åŠ¡åœ¨æ­¤æ—¶è¯»å–äº†åŒä¸€ä»½æ•°æ®ï¼Œç”±äºæŸäº›åŸå› ï¼Œå‰ä¸€ä¸ªRollBackäº†æ“ä½œï¼Œåˆ™åä¸€ä¸ªäº‹åŠ¡æ‰€è¯»å–çš„æ•°æ®å°±ä¼šæ˜¯ä¸æ­£ç¡®çš„ã€‚</p>
<p>ä¸å¯é‡å¤è¯»(Non-repeatable read):åœ¨ä¸€ä¸ªäº‹åŠ¡çš„ä¸¤æ¬¡æŸ¥è¯¢ä¹‹ä¸­æ•°æ®ä¸ä¸€è‡´ï¼Œè¿™å¯èƒ½æ˜¯ä¸¤æ¬¡æŸ¥è¯¢è¿‡ç¨‹ä¸­é—´æ’å…¥äº†ä¸€ä¸ªäº‹åŠ¡æ›´æ–°çš„åŸæœ‰çš„æ•°æ®ã€‚</p>
<p>å¹»è¯»(Phantom Read):åœ¨ä¸€ä¸ªäº‹åŠ¡çš„ä¸¤æ¬¡æŸ¥è¯¢ä¸­æ•°æ®ç¬”æ•°ä¸ä¸€è‡´ï¼Œä¾‹å¦‚æœ‰ä¸€ä¸ªäº‹åŠ¡æŸ¥è¯¢äº†å‡ åˆ—(Row)æ•°æ®ï¼Œè€Œå¦ä¸€ä¸ªäº‹åŠ¡å´åœ¨æ­¤æ—¶æ’å…¥äº†æ–°çš„å‡ åˆ—æ•°æ®ï¼Œå…ˆå‰çš„äº‹åŠ¡åœ¨æ¥ä¸‹æ¥çš„æŸ¥è¯¢ä¸­ï¼Œå°±ä¼šå‘ç°æœ‰å‡ åˆ—æ•°æ®æ˜¯å®ƒå…ˆå‰æ‰€æ²¡æœ‰çš„ã€‚</p></blockquote></div><br><br>ä½œè€…ï¼šç¨‹åºçŒ¿å¤©ç’‡<br>é“¾æ¥ï¼šhttps://www.jianshu.com/p/75187e19faf2<br>æ¥æºï¼šç®€ä¹¦<br>è‘—ä½œæƒå½’ä½œè€…æ‰€æœ‰ã€‚å•†ä¸šè½¬è½½è¯·è”ç³»ä½œè€…è·å¾—æˆæƒï¼Œéå•†ä¸šè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚</div>   ] 1
2020/07/11 13:31:07.218 [main.go:868]  [ORM] sqlD:/Goproject/src/lyx-blog/models/note.go:290sSELECT "visit", "praise" FROM "notes"  WHERE (id = ?)[1] 1
2020/07/11 13:31:07.224 [D] [server.go:2807]  |      127.0.0.1|[42m 200 [0m|     8.9989ms|   match|[46m POST    [0m /note/save/4a2a8824-5ae7-4bef-ae58-d3f4914fe00c   r:note/save/:key
2020/07/11 13:31:07.555 [main.go:868]  [ORM] sqlD:/Goproject/src/lyx-blog/models/note.go:24999.6ÂµsSELECT * FROM "notes"  WHERE "notes"."deleted_at" IS NULL AND ((key = ?)) LIMIT 1[4a2a8824-5ae7-4bef-ae58-d3f4914fe00c] 1
2020/07/11 13:31:07.555 [main.go:868]  [ORM] sqlD:/Goproject/src/lyx-blog/models/message.go:210sSELECT * FROM "messages"  WHERE "messages"."deleted_at" IS NULL AND ((note_key = ? )) ORDER BY updated_at desc[4a2a8824-5ae7-4bef-ae58-d3f4914fe00c] 0
2020/07/11 13:31:07.560 [D] [server.go:2807]  |      127.0.0.1|[42m 200 [0m|     6.9964ms|   match|[44m GET     [0m /details/4a2a8824-5ae7-4bef-ae58-d3f4914fe00c   r:/details/:key
2020/07/11 13:31:07.693 [D] [server.go:2807]  |      127.0.0.1|[42m 200 [0m|    10.0018ms|   match|[44m GET     [0m /static/layui/lay/modules/util.js
2020/07/11 13:33:02.753 [main.go:868]  [ORM] sqlD:/Goproject/src/lyx-blog/models/note.go:240sSELECT * FROM "notes"  WHERE "notes"."deleted_at" IS NULL AND ((key = ?)) LIMIT 1[4a2a8824-5ae7-4bef-ae58-d3f4914fe00c] 1
2020/07/11 13:33:02.753 [main.go:868]  [ORM] sqlD:/Goproject/src/lyx-blog/models/message.go:210sSELECT * FROM "messages"  WHERE "messages"."deleted_at" IS NULL AND ((note_key = ? )) ORDER BY updated_at desc[4a2a8824-5ae7-4bef-ae58-d3f4914fe00c] 0
2020/07/11 13:33:02.755 [D] [server.go:2807]  |      127.0.0.1|[42m 200 [0m|     2.9979ms|   match|[44m GET     [0m /details/4a2a8824-5ae7-4bef-ae58-d3f4914fe00c   r:/details/:key
2020/07/11 13:34:20.915 [main.go:868]  [ORM] sqlD:/Goproject/src/lyx-blog/models/note.go:241.0016msSELECT * FROM "notes"  WHERE "notes"."deleted_at" IS NULL AND ((key = ?)) LIMIT 1[4a2a8824-5ae7-4bef-ae58-d3f4914fe00c] 1
2020/07/11 13:34:20.915 [main.go:868]  [ORM] sqlD:/Goproject/src/lyx-blog/models/message.go:210sSELECT * FROM "messages"  WHERE "messages"."deleted_at" IS NULL AND ((note_key = ? )) ORDER BY updated_at desc[4a2a8824-5ae7-4bef-ae58-d3f4914fe00c] 0
2020/07/11 13:34:20.917 [D] [server.go:2807]  |      127.0.0.1|[42m 200 [0m|     3.0011ms|   match|[44m GET     [0m /details/4a2a8824-5ae7-4bef-ae58-d3f4914fe00c   r:/details/:key
2020/07/11 13:34:21.003 [D] [server.go:2807]  |      127.0.0.1|[42m 200 [0m|           0s|   match|[44m GET     [0m /static/images/info-img.png
2020/07/11 13:34:51.524 [main.go:868]  [ORM] sqlD:/Goproject/src/lyx-blog/models/note.go:240sSELECT * FROM "notes"  WHERE "notes"."deleted_at" IS NULL AND ((key = ?)) LIMIT 1[4a2a8824-5ae7-4bef-ae58-d3f4914fe00c] 1
2020/07/11 13:34:51.526 [main.go:868]  [ORM] sqlD:/Goproject/src/lyx-blog/models/note.go:292.0007msUPDATE "notes" SET "created_at" = ?, "updated_at" = ?, "deleted_at" = ?, "key" = ?, "user_id" = ?, "title" = ?, "summary" = ?, "content" = ?, "source" = ?, "editor" = ?, "files" = ?, "visit" = ?, "praise" = ?  WHERE "notes"."deleted_at" IS NULL AND "notes"."id" = ?[2020-07-11 13:31:07.2188442 +0800 +0800 2020-07-11 13:34:51.5245592 +0800 CST m=+264.032588501 <nil> 4a2a8824-5ae7-4bef-ae58-d3f4914fe00c 1 test01 è¿™æ˜¯ä¸€æ¡æµ‹è¯•æ•°æ®è¿™æ˜¯ä¸€æ¡æµ‹è¯•æ•°æ®Â è¿™æ˜¯ä¸€æ¡æµ‹è¯•æ•°æ®è¿™æ˜¯ä¸€æ¡æµ‹è¯•æ•°æ®è¿™æ˜¯ä¸€æ¡æµ‹è¯•æ•°æ®Â ... <p>è¿™æ˜¯ä¸€æ¡æµ‹è¯•æ•°æ®</p><p><span style="font-size: 19.2px;">è¿™æ˜¯ä¸€æ¡æµ‹è¯•æ•°æ®</span>&nbsp;</p><p><span style="font-size: 19.2px;">è¿™æ˜¯ä¸€æ¡æµ‹è¯•æ•°æ®</span></p><p><span style="font-size: 19.2px;">è¿™æ˜¯ä¸€æ¡æµ‹è¯•æ•°æ®</span></p><p><span style="font-size: 19.2px;">è¿™æ˜¯ä¸€æ¡æµ‹è¯•æ•°æ®</span>&nbsp;<br></p>    0 0 1] 1
2020/07/11 13:34:51.532 [D] [server.go:2807]  |      127.0.0.1|[42m 200 [0m|     8.9993ms|   match|[46m POST    [0m /note/save/4a2a8824-5ae7-4bef-ae58-d3f4914fe00c   r:note/save/:key
2020/07/11 13:34:51.846 [main.go:868]  [ORM] sqlD:/Goproject/src/lyx-blog/models/note.go:241.0009msSELECT * FROM "notes"  WHERE "notes"."deleted_at" IS NULL AND ((key = ?)) LIMIT 1[4a2a8824-5ae7-4bef-ae58-d3f4914fe00c] 1
2020/07/11 13:34:51.846 [main.go:868]  [ORM] sqlD:/Goproject/src/lyx-blog/models/message.go:210sSELECT * FROM "messages"  WHERE "messages"."deleted_at" IS NULL AND ((note_key = ? )) ORDER BY updated_at desc[4a2a8824-5ae7-4bef-ae58-d3f4914fe00c] 0
2020/07/11 13:34:51.848 [D] [server.go:2807]  |      127.0.0.1|[42m 200 [0m|     2.9988ms|   match|[44m GET     [0m /details/4a2a8824-5ae7-4bef-ae58-d3f4914fe00c   r:/details/:key
2020/07/11 13:34:51.941 [D] [server.go:2807]  |      127.0.0.1|[47m 304 [0m|           0s|   match|[44m GET     [0m /static/js/blog.js
2020/07/11 13:34:54.977 [main.go:868]  [ORM] sqlD:/Goproject/src/lyx-blog/models/note.go:401.0005msSELECT * FROM "notes"  WHERE "notes"."deleted_at" IS NULL AND ((title like ?)) ORDER BY updated_at DESC LIMIT 3 OFFSET 0[%%] 1
2020/07/11 13:34:54.977 [main.go:868]  [ORM] sqlD:/Goproject/src/lyx-blog/models/note.go:340sSELECT count(*) FROM "notes"  WHERE "notes"."deleted_at" IS NULL AND ((title like ?))[%%] 0
2020/07/11 13:34:54.979 [D] [server.go:2807]  |      127.0.0.1|[42m 200 [0m|     3.0003ms|   match|[44m GET     [0m /     r:/
2020/07/11 13:35:19.110 [main.go:868]  [ORM] sqlD:/Goproject/src/lyx-blog/models/note.go:400sSELECT * FROM "notes"  WHERE "notes"."deleted_at" IS NULL AND ((title like ?)) ORDER BY updated_at DESC LIMIT 3 OFFSET 0[%%] 1
2020/07/11 13:35:19.110 [main.go:868]  [ORM] sqlD:/Goproject/src/lyx-blog/models/note.go:340sSELECT count(*) FROM "notes"  WHERE "notes"."deleted_at" IS NULL AND ((title like ?))[%%] 0
2020/07/11 13:35:19.113 [D] [server.go:2807]  |      127.0.0.1|[42m 200 [0m|     3.9993ms|   match|[44m GET     [0m /     r:/
2020/07/11 13:35:20.432 [D] [server.go:2807]  |      127.0.0.1|[42m 200 [0m|     2.0014ms|   match|[44m GET     [0m /message   r:/message
2020/07/11 13:35:20.588 [main.go:868]  [ORM] sqlD:/Goproject/src/lyx-blog/models/message.go:290sSELECT count(*) FROM "messages"  WHERE "messages"."deleted_at" IS NULL AND ((note_key = ?))[] 0
2020/07/11 13:35:20.588 [D] [server.go:2807]  |      127.0.0.1|[42m 200 [0m|      999.8Âµs|   match|[44m GET     [0m /message/count   r:message/count
2020/07/11 13:35:22.093 [main.go:868]  [ORM] sqlD:/Goproject/src/lyx-blog/models/note.go:401.0029msSELECT * FROM "notes"  WHERE "notes"."deleted_at" IS NULL AND ((title like ?)) ORDER BY updated_at DESC LIMIT 3 OFFSET 0[%%] 1
2020/07/11 13:35:22.093 [main.go:868]  [ORM] sqlD:/Goproject/src/lyx-blog/models/note.go:340sSELECT count(*) FROM "notes"  WHERE "notes"."deleted_at" IS NULL AND ((title like ?))[%%] 0
2020/07/11 13:35:22.095 [D] [server.go:2807]  |      127.0.0.1|[42m 200 [0m|     3.0002ms|   match|[44m GET     [0m /     r:/
2020/07/11 13:35:24.051 [D] [server.go:2807]  |      127.0.0.1|[42m 200 [0m|      2.001ms|   match|[44m GET     [0m /user   r:/user
2020/07/11 13:35:24.998 [D] [server.go:2807]  |      127.0.0.1|[42m 200 [0m|     1.0002ms|   match|[44m GET     [0m /note/new   r:note/new
2020/07/11 13:35:40.886 [main.go:868]  [ORM] sqlD:/Goproject/src/lyx-blog/models/note.go:241.0002msSELECT * FROM "notes"  WHERE "notes"."deleted_at" IS NULL AND ((key = ?)) LIMIT 1[72eb37ed-0b68-413a-8e82-b0b86a64cf3b] 0
2020/07/11 13:35:40.888 [main.go:868]  [ORM] sqlD:/Goproject/src/lyx-blog/models/note.go:291.9988msUPDATE "users" SET "created_at" = ?, "updated_at" = ?, "deleted_at" = ?, "name" = ?, "email" = ?, "pwd" = ?, "avatar" = ?, "editor" = ?, "role" = ?  WHERE "users"."deleted_at" IS NULL AND "users"."id" = ?[2020-07-11 13:22:22.5863856 +0800 CST 2020-07-11 13:35:40.8863825 +0800 CST m=+313.394411801 <nil> admin admin@qq.com 123456 /static/images/info-img.png  0 1] 1
2020/07/11 13:35:40.888 [main.go:868]  [ORM] sqlD:/Goproject/src/lyx-blog/models/note.go:290sINSERT INTO "notes" ("created_at","updated_at","deleted_at","key","user_id","title","summary","content","source","editor","files") VALUES (?,?,?,?,?,?,?,?,?,?,?)[2020-07-11 13:35:40.8883813 +0800 CST m=+313.396410601 2020-07-11 13:35:40.8883813 +0800 CST m=+313.396410601 <nil> 72eb37ed-0b68-413a-8e82-b0b86a64cf3b 1 MySQLäº‹åŠ¡ ä»€ä¹ˆæ˜¯äº‹åŠ¡

äº‹åŠ¡æ˜¯åº”ç”¨ç¨‹åºä¸­ä¸€ç³»åˆ—ä¸¥å¯†çš„æ“ä½œï¼Œæ‰€æœ‰æ“ä½œå¿…é¡»æˆåŠŸå®Œæˆï¼Œå¦åˆ™åœ¨æ¯ä¸ªæ“ä½œä¸­æ‰€ä½œçš„æ‰€æœ‰æ›´æ”¹éƒ½ä¼šè¢«æ’¤æ¶ˆã€‚ä¹Ÿå°±æ˜¯äº‹åŠ¡å…·æœ‰åŸå­æ€§ï¼Œä¸€ä¸ªäº‹åŠ¡ä¸­çš„ä¸€ç³»åˆ—çš„æ“ä½œè¦ä¹ˆå…¨éƒ¨æˆåŠŸï¼Œè¦ä¹ˆä¸€ä¸ªéƒ½ä¸åšã€‚
äº‹åŠ¡çš„ç»“æŸæœ‰ä¸¤ç§ï¼Œå½“äº‹åŠ¡ä¸­çš„æ‰€ä»¥æ­¥éª¤å…¨éƒ¨æˆåŠŸæ‰§è¡Œæ—¶ï¼Œäº‹åŠ¡æäº¤ã€‚å¦‚æœå…¶ä¸­ä¸€ä¸ªæ­¥éª¤å¤±è´¥ï¼Œå°†å‘ç”Ÿå›æ»šæ“ä½œï¼Œæ’¤æ¶ˆæ’¤æ¶ˆä¹‹å‰åˆ°äº‹åŠ¡å¼€å§‹æ—¶çš„æ‰€ä»¥æ“ä½œã€‚

äº‹åŠ¡çš„ ACID
äº‹åŠ¡å…·æœ‰å››ä¸ªç‰¹å¾ï¼šåŸå­æ€§ï¼ˆ Atomicity ï¼‰ã€ä¸€è‡´æ€§ï¼ˆ Consistency ï¼‰ã€éš”ç¦»æ€§ï¼ˆ Isolation ï¼‰å’ŒæŒç»­æ€§ï¼ˆ Durabilityï¼‰ã€‚è¿™å››ä¸ªç‰¹æ€§ç®€ç§°ä¸º ACID ç‰¹æ€§ã€‚

1 ã€åŸå­æ€§ã€‚äº‹åŠ¡æ˜¯æ•°æ®åº“çš„é€»è¾‘å·¥ä½œå•ä½ï¼Œäº‹åŠ¡ä¸­åŒ…å«çš„å„æ“ä½œè¦ä¹ˆéƒ½åšï¼Œè¦ä¹ˆéƒ½ä¸åš
2 ã€ä¸€è‡´æ€§ã€‚äº‹ åŠ¡æ‰§è¡Œçš„ç»“æœå¿…é¡»æ˜¯ä½¿æ•°æ®åº“ä»ä¸€ä¸ªä¸€è‡´æ€§çŠ¶æ€å˜åˆ°å¦ä¸€ä¸ªä¸€è‡´æ€§çŠ¶æ€ã€‚å› æ­¤å½“æ•°æ®åº“åªåŒ…å«æˆåŠŸäº‹åŠ¡æäº¤çš„ç»“æœæ—¶ï¼Œå°±è¯´æ•°æ®åº“å¤„äºä¸€è‡´æ€§çŠ¶æ€ã€‚å¦‚æœæ•°æ®åº“ç³»ç»Ÿ è¿è¡Œä¸­å‘ç”Ÿ... <div><div><h3><strong>ä»€ä¹ˆæ˜¯äº‹åŠ¡</strong></h3>
<blockquote>
<p>äº‹åŠ¡æ˜¯åº”ç”¨ç¨‹åºä¸­ä¸€ç³»åˆ—ä¸¥å¯†çš„æ“ä½œï¼Œæ‰€æœ‰æ“ä½œå¿…é¡»æˆåŠŸå®Œæˆï¼Œå¦åˆ™åœ¨æ¯ä¸ªæ“ä½œä¸­æ‰€ä½œçš„æ‰€æœ‰æ›´æ”¹éƒ½ä¼šè¢«æ’¤æ¶ˆã€‚ä¹Ÿå°±æ˜¯äº‹åŠ¡å…·æœ‰åŸå­æ€§ï¼Œä¸€ä¸ªäº‹åŠ¡ä¸­çš„ä¸€ç³»åˆ—çš„æ“ä½œè¦ä¹ˆå…¨éƒ¨æˆåŠŸï¼Œè¦ä¹ˆä¸€ä¸ªéƒ½ä¸åšã€‚</p>
<p>äº‹åŠ¡çš„ç»“æŸæœ‰ä¸¤ç§ï¼Œå½“äº‹åŠ¡ä¸­çš„æ‰€ä»¥æ­¥éª¤å…¨éƒ¨æˆåŠŸæ‰§è¡Œæ—¶ï¼Œäº‹åŠ¡æäº¤ã€‚å¦‚æœå…¶ä¸­ä¸€ä¸ªæ­¥éª¤å¤±è´¥ï¼Œå°†å‘ç”Ÿå›æ»šæ“ä½œï¼Œæ’¤æ¶ˆæ’¤æ¶ˆä¹‹å‰åˆ°äº‹åŠ¡å¼€å§‹æ—¶çš„æ‰€ä»¥æ“ä½œã€‚</p>
</blockquote>
<p><strong>äº‹åŠ¡çš„ ACID</strong></p>
<p>äº‹åŠ¡å…·æœ‰å››ä¸ªç‰¹å¾ï¼šåŸå­æ€§ï¼ˆ Atomicity ï¼‰ã€ä¸€è‡´æ€§ï¼ˆ Consistency ï¼‰ã€éš”ç¦»æ€§ï¼ˆ Isolation ï¼‰å’ŒæŒç»­æ€§ï¼ˆ Durabilityï¼‰ã€‚è¿™å››ä¸ªç‰¹æ€§ç®€ç§°ä¸º ACID ç‰¹æ€§ã€‚</p>
<blockquote>
<p>1 ã€åŸå­æ€§ã€‚äº‹åŠ¡æ˜¯æ•°æ®åº“çš„é€»è¾‘å·¥ä½œå•ä½ï¼Œäº‹åŠ¡ä¸­åŒ…å«çš„å„æ“ä½œè¦ä¹ˆéƒ½åšï¼Œè¦ä¹ˆéƒ½ä¸åš</p>
<p>2 ã€ä¸€è‡´æ€§ã€‚äº‹ åŠ¡æ‰§è¡Œçš„ç»“æœå¿…é¡»æ˜¯ä½¿æ•°æ®åº“ä»ä¸€ä¸ªä¸€è‡´æ€§çŠ¶æ€å˜åˆ°å¦ä¸€ä¸ªä¸€è‡´æ€§çŠ¶æ€ã€‚å› æ­¤å½“æ•°æ®åº“åªåŒ…å«æˆåŠŸäº‹åŠ¡æäº¤çš„ç»“æœæ—¶ï¼Œå°±è¯´æ•°æ®åº“å¤„äºä¸€è‡´æ€§çŠ¶æ€ã€‚å¦‚æœæ•°æ®åº“ç³»ç»Ÿ è¿è¡Œä¸­å‘ç”Ÿæ•…éšœï¼Œæœ‰äº›äº‹åŠ¡å°šæœªå®Œæˆå°±è¢«è¿«ä¸­æ–­ï¼Œè¿™äº›æœªå®Œæˆäº‹åŠ¡å¯¹æ•°æ®åº“æ‰€åšçš„ä¿®æ”¹æœ‰ä¸€éƒ¨åˆ†å·²å†™å…¥ç‰©ç†æ•°æ®åº“ï¼Œè¿™æ—¶æ•°æ®åº“å°±å¤„äºä¸€ç§ä¸æ­£ç¡®çš„çŠ¶æ€ï¼Œæˆ–è€…è¯´æ˜¯ ä¸ä¸€è‡´çš„çŠ¶æ€ã€‚</p>
<p>3 ã€éš”ç¦»æ€§ã€‚ä¸€ä¸ªäº‹åŠ¡çš„æ‰§è¡Œä¸èƒ½å…¶å®ƒäº‹åŠ¡å¹²æ‰°ã€‚å³ä¸€ä¸ªäº‹åŠ¡å†…éƒ¨çš„æ“ä½œåŠä½¿ç”¨çš„æ•°æ®å¯¹å…¶å®ƒå¹¶å‘äº‹åŠ¡æ˜¯éš”ç¦»çš„ï¼Œå¹¶å‘æ‰§è¡Œçš„å„ä¸ªäº‹åŠ¡ä¹‹é—´ä¸èƒ½äº’ç›¸å¹²æ‰°ã€‚</p>
<p>4 ã€æŒç»­æ€§ã€‚ä¹Ÿç§°æ°¸ä¹…æ€§ï¼ŒæŒ‡ä¸€ä¸ªäº‹åŠ¡ä¸€æ—¦æäº¤ï¼Œå®ƒå¯¹æ•°æ®åº“ä¸­çš„æ•°æ®çš„æ”¹å˜å°±åº”è¯¥æ˜¯æ°¸ä¹…æ€§çš„ã€‚æ¥ä¸‹æ¥çš„å…¶å®ƒæ“ä½œæˆ–æ•…éšœä¸åº”è¯¥å¯¹å…¶æ‰§è¡Œç»“æœæœ‰ä»»ä½•å½±å“ã€‚</p>
</blockquote>
<hr>
<p><strong>Mysqlçš„å››ç§éš”ç¦»çº§åˆ«</strong></p>
<p>SQLæ ‡å‡†å®šä¹‰äº†4ç±»éš”ç¦»çº§åˆ«ï¼ŒåŒ…æ‹¬äº†ä¸€äº›å…·ä½“è§„åˆ™ï¼Œç”¨æ¥é™å®šäº‹åŠ¡å†…å¤–çš„å“ªäº›æ”¹å˜æ˜¯å¯è§çš„ï¼Œå“ªäº›æ˜¯ä¸å¯è§çš„ã€‚ä½çº§åˆ«çš„éš”ç¦»çº§ä¸€èˆ¬æ”¯æŒæ›´é«˜çš„å¹¶å‘å¤„ç†ï¼Œå¹¶æ‹¥æœ‰æ›´ä½çš„ç³»ç»Ÿå¼€é”€ã€‚</p>
<blockquote>
<p><strong>Read Uncommittedï¼ˆè¯»å–æœªæäº¤å†…å®¹ï¼‰</strong></p>
<p>åœ¨è¯¥éš”ç¦»çº§åˆ«ï¼Œæ‰€æœ‰äº‹åŠ¡éƒ½å¯ä»¥çœ‹åˆ°å…¶ä»–æœªæäº¤äº‹åŠ¡çš„æ‰§è¡Œç»“æœã€‚æœ¬éš”ç¦»çº§åˆ«å¾ˆå°‘ç”¨äºå®é™…åº”ç”¨ï¼Œå› ä¸ºå®ƒçš„æ€§èƒ½ä¹Ÿä¸æ¯”å…¶ä»–çº§åˆ«å¥½å¤šå°‘ã€‚è¯»å–æœªæäº¤çš„æ•°æ®ï¼Œä¹Ÿè¢«ç§°ä¹‹ä¸ºè„è¯»ï¼ˆDirty Readï¼‰ã€‚</p>
<p><strong>Read Committedï¼ˆè¯»å–æäº¤å†…å®¹ï¼‰</strong></p>
<p>è¿™æ˜¯å¤§å¤šæ•°æ•°æ®åº“ç³»ç»Ÿçš„é»˜è®¤éš”ç¦»çº§åˆ«ï¼ˆä½†ä¸æ˜¯MySQLé»˜è®¤çš„ï¼‰ã€‚å®ƒæ»¡è¶³äº†éš”ç¦»çš„ç®€å•å®šä¹‰ï¼šä¸€ä¸ªäº‹åŠ¡åªèƒ½çœ‹è§å·²ç»æäº¤äº‹åŠ¡æ‰€åšçš„æ”¹å˜ã€‚è¿™ç§éš”ç¦»çº§åˆ« ä¹Ÿæ”¯æŒæ‰€è°“çš„ä¸å¯é‡å¤è¯»ï¼ˆNonrepeatable Readï¼‰ï¼Œå› ä¸ºåŒä¸€äº‹åŠ¡çš„å…¶ä»–å®ä¾‹åœ¨è¯¥å®ä¾‹å¤„ç†å…¶é—´å¯èƒ½ä¼šæœ‰æ–°çš„commitï¼Œæ‰€ä»¥åŒä¸€selectå¯èƒ½è¿”å›ä¸åŒç»“æœã€‚</p>
<p><strong>Repeatable Readï¼ˆå¯é‡è¯»ï¼‰</strong></p>
<p>è¿™æ˜¯MySQLçš„é»˜è®¤äº‹åŠ¡éš”ç¦»çº§åˆ«ï¼Œå®ƒç¡®ä¿åŒä¸€äº‹åŠ¡çš„å¤šä¸ªå®ä¾‹åœ¨å¹¶å‘è¯»å–æ•°æ®æ—¶ï¼Œä¼šçœ‹åˆ°åŒæ ·çš„æ•°æ®è¡Œã€‚ä¸è¿‡ç†è®ºä¸Šï¼Œè¿™ä¼šå¯¼è‡´å¦ä¸€ä¸ªæ£˜æ‰‹çš„é—®é¢˜ï¼šå¹»è¯» ï¼ˆPhantom Readï¼‰ã€‚ç®€å•çš„è¯´ï¼Œå¹»è¯»æŒ‡å½“ç”¨æˆ·è¯»å–æŸä¸€èŒƒå›´çš„æ•°æ®è¡Œæ—¶ï¼Œå¦ä¸€ä¸ªäº‹åŠ¡åˆåœ¨è¯¥èŒƒå›´å†…æ’å…¥äº†æ–°è¡Œï¼Œå½“ç”¨æˆ·å†è¯»å–è¯¥èŒƒå›´çš„æ•°æ®è¡Œæ—¶ï¼Œä¼šå‘ç°æœ‰æ–°çš„â€œå¹»å½±â€ è¡Œã€‚InnoDBå’ŒFalconå­˜å‚¨å¼•æ“é€šè¿‡å¤šç‰ˆæœ¬å¹¶å‘æ§åˆ¶ï¼ˆMVCCï¼ŒMultiversion Concurrency Controlï¼‰æœºåˆ¶è§£å†³äº†è¯¥é—®é¢˜ã€‚</p>
<p><strong>Serializableï¼ˆå¯ä¸²è¡ŒåŒ–ï¼‰</strong></p>
<p>è¿™æ˜¯æœ€é«˜çš„éš”ç¦»çº§åˆ«ï¼Œå®ƒé€šè¿‡å¼ºåˆ¶äº‹åŠ¡æ’åºï¼Œä½¿ä¹‹ä¸å¯èƒ½ç›¸äº’å†²çªï¼Œä»è€Œè§£å†³å¹»è¯»é—®é¢˜ã€‚ç®€è¨€ä¹‹ï¼Œå®ƒæ˜¯åœ¨æ¯ä¸ªè¯»çš„æ•°æ®è¡Œä¸ŠåŠ ä¸Šå…±äº«é”ã€‚åœ¨è¿™ä¸ªçº§åˆ«ï¼Œå¯èƒ½å¯¼è‡´å¤§é‡çš„è¶…æ—¶ç°è±¡å’Œé”ç«äº‰ã€‚</p>
<p>è¿™å››ç§éš”ç¦»çº§åˆ«é‡‡å–ä¸åŒçš„é”ç±»å‹æ¥å®ç°ï¼Œè‹¥è¯»å–çš„æ˜¯åŒä¸€ä¸ªæ•°æ®çš„è¯ï¼Œå°±å®¹æ˜“å‘ç”Ÿé—®é¢˜ã€‚ä¾‹å¦‚ï¼š</p>
<p>è„è¯»(Drity Read)ï¼šæŸä¸ªäº‹åŠ¡å·²æ›´æ–°ä¸€ä»½æ•°æ®ï¼Œå¦ä¸€ä¸ªäº‹åŠ¡åœ¨æ­¤æ—¶è¯»å–äº†åŒä¸€ä»½æ•°æ®ï¼Œç”±äºæŸäº›åŸå› ï¼Œå‰ä¸€ä¸ªRollBackäº†æ“ä½œï¼Œåˆ™åä¸€ä¸ªäº‹åŠ¡æ‰€è¯»å–çš„æ•°æ®å°±ä¼šæ˜¯ä¸æ­£ç¡®çš„ã€‚</p>
<p>ä¸å¯é‡å¤è¯»(Non-repeatable read):åœ¨ä¸€ä¸ªäº‹åŠ¡çš„ä¸¤æ¬¡æŸ¥è¯¢ä¹‹ä¸­æ•°æ®ä¸ä¸€è‡´ï¼Œè¿™å¯èƒ½æ˜¯ä¸¤æ¬¡æŸ¥è¯¢è¿‡ç¨‹ä¸­é—´æ’å…¥äº†ä¸€ä¸ªäº‹åŠ¡æ›´æ–°çš„åŸæœ‰çš„æ•°æ®ã€‚</p>
<p>å¹»è¯»(Phantom Read):åœ¨ä¸€ä¸ªäº‹åŠ¡çš„ä¸¤æ¬¡æŸ¥è¯¢ä¸­æ•°æ®ç¬”æ•°ä¸ä¸€è‡´ï¼Œä¾‹å¦‚æœ‰ä¸€ä¸ªäº‹åŠ¡æŸ¥è¯¢äº†å‡ åˆ—(Row)æ•°æ®ï¼Œè€Œå¦ä¸€ä¸ªäº‹åŠ¡å´åœ¨æ­¤æ—¶æ’å…¥äº†æ–°çš„å‡ åˆ—æ•°æ®ï¼Œå…ˆå‰çš„äº‹åŠ¡åœ¨æ¥ä¸‹æ¥çš„æŸ¥è¯¢ä¸­ï¼Œå°±ä¼šå‘ç°æœ‰å‡ åˆ—æ•°æ®æ˜¯å®ƒå…ˆå‰æ‰€æ²¡æœ‰çš„ã€‚</p></blockquote></div><br><br>ä½œè€…ï¼šç¨‹åºçŒ¿å¤©ç’‡<br>é“¾æ¥ï¼šhttps://www.jianshu.com/p/75187e19faf2<br>æ¥æºï¼šç®€ä¹¦<br>è‘—ä½œæƒå½’ä½œè€…æ‰€æœ‰ã€‚å•†ä¸šè½¬è½½è¯·è”ç³»ä½œè€…è·å¾—æˆæƒï¼Œéå•†ä¸šè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚</div>   ] 1
2020/07/11 13:35:40.888 [main.go:868]  [ORM] sqlD:/Goproject/src/lyx-blog/models/note.go:290sSELECT "visit", "praise" FROM "notes"  WHERE (id = ?)[2] 1
2020/07/11 13:35:40.895 [D] [server.go:2807]  |      127.0.0.1|[42m 200 [0m|     9.9972ms|   match|[46m POST    [0m /note/save/72eb37ed-0b68-413a-8e82-b0b86a64cf3b   r:note/save/:key
2020/07/11 13:35:41.213 [main.go:868]  [ORM] sqlD:/Goproject/src/lyx-blog/models/note.go:240sSELECT * FROM "notes"  WHERE "notes"."deleted_at" IS NULL AND ((key = ?)) LIMIT 1[72eb37ed-0b68-413a-8e82-b0b86a64cf3b] 1
2020/07/11 13:35:41.213 [main.go:868]  [ORM] sqlD:/Goproject/src/lyx-blog/models/message.go:210sSELECT * FROM "messages"  WHERE "messages"."deleted_at" IS NULL AND ((note_key = ? )) ORDER BY updated_at desc[72eb37ed-0b68-413a-8e82-b0b86a64cf3b] 0
2020/07/11 13:35:41.215 [D] [server.go:2807]  |      127.0.0.1|[42m 200 [0m|     2.9949ms|   match|[44m GET     [0m /details/72eb37ed-0b68-413a-8e82-b0b86a64cf3b   r:/details/:key
2020/07/11 13:36:03.828 [main.go:868]  [ORM] sqlD:/Goproject/src/lyx-blog/models/note.go:401.0035msSELECT * FROM "notes"  WHERE "notes"."deleted_at" IS NULL AND ((title like ?)) ORDER BY updated_at DESC LIMIT 3 OFFSET 0[%%] 2
2020/07/11 13:36:03.828 [main.go:868]  [ORM] sqlD:/Goproject/src/lyx-blog/models/note.go:340sSELECT count(*) FROM "notes"  WHERE "notes"."deleted_at" IS NULL AND ((title like ?))[%%] 0
2020/07/11 13:36:03.831 [D] [server.go:2807]  |      127.0.0.1|[42m 200 [0m|     4.0004ms|   match|[44m GET     [0m /     r:/
2020/07/11 13:36:06.535 [main.go:868]  [ORM] sqlD:/Goproject/src/lyx-blog/models/note.go:400sSELECT * FROM "notes"  WHERE "notes"."deleted_at" IS NULL AND ((title like ?)) ORDER BY updated_at DESC LIMIT 3 OFFSET 0[%%] 2
2020/07/11 13:36:06.535 [main.go:868]  [ORM] sqlD:/Goproject/src/lyx-blog/models/note.go:340sSELECT count(*) FROM "notes"  WHERE "notes"."deleted_at" IS NULL AND ((title like ?))[%%] 0
2020/07/11 13:36:06.538 [D] [server.go:2807]  |      127.0.0.1|[42m 200 [0m|     3.9993ms|   match|[44m GET     [0m /     r:/
2020/07/11 13:36:08.515 [D] [server.go:2807]  |      127.0.0.1|[42m 200 [0m|     1.9994ms|   match|[44m GET     [0m /message   r:/message
2020/07/11 13:36:08.696 [main.go:868]  [ORM] sqlD:/Goproject/src/lyx-blog/models/message.go:290sSELECT count(*) FROM "messages"  WHERE "messages"."deleted_at" IS NULL AND ((note_key = ?))[] 0
2020/07/11 13:36:08.696 [D] [server.go:2807]  |      127.0.0.1|[42m 200 [0m|           0s|   match|[44m GET     [0m /message/count   r:message/count
2020/07/11 13:36:12.219 [D] [server.go:2807]  |      127.0.0.1|[42m 200 [0m|     1.9967ms|   match|[44m GET     [0m /about   r:/about
2020/07/11 13:36:14.042 [D] [server.go:2807]  |      127.0.0.1|[42m 200 [0m|     2.0016ms|   match|[44m GET     [0m /user   r:/user
2020/07/11 13:36:18.576 [D] [server.go:2807]  |      127.0.0.1|[42m 200 [0m|     3.0019ms|   match|[44m GET     [0m /user   r:/user
2020/07/11 13:36:19.279 [D] [server.go:2807]  |      127.0.0.1|[47m 302 [0m|           0s|   match|[44m GET     [0m /logout   r:/logout
2020/07/11 13:36:19.284 [main.go:868]  [ORM] sqlD:/Goproject/src/lyx-blog/models/note.go:401msSELECT * FROM "notes"  WHERE "notes"."deleted_at" IS NULL AND ((title like ?)) ORDER BY updated_at DESC LIMIT 3 OFFSET 0[%%] 2
2020/07/11 13:36:19.284 [main.go:868]  [ORM] sqlD:/Goproject/src/lyx-blog/models/note.go:340sSELECT count(*) FROM "notes"  WHERE "notes"."deleted_at" IS NULL AND ((title like ?))[%%] 0
2020/07/11 13:36:19.286 [D] [server.go:2807]  |      127.0.0.1|[42m 200 [0m|     2.9982ms|   match|[44m GET     [0m /     r:/
2020/07/11 13:36:25.066 [D] [server.go:2807]  |      127.0.0.1|[42m 200 [0m|     2.9983ms|   match|[44m GET     [0m /user   r:/user
2020/07/11 13:36:29.489 [D] [server.go:2807]  |      127.0.0.1|[42m 200 [0m|     3.0038ms|   match|[44m GET     [0m /reg   r:/reg
2020/07/11 13:36:52.028 [E] [value.go:460]  ä¸¤æ¬¡è¾“å…¥çš„å¯†ç ä¸ä¸€æ · ä¸¤æ¬¡è¾“å…¥çš„å¯†ç ä¸ä¸€æ ·
2020/07/11 13:36:58.392 [main.go:868]  [ORM] sqlD:/Goproject/src/lyx-blog/models/user.go:21999.1ÂµsSELECT * FROM "users"  WHERE "users"."deleted_at" IS NULL AND ((name= ?)) LIMIT 1[lyx] 0
2020/07/11 13:36:58.392 [main.go:868]  [ORM] sqlD:/Goproject/src/lyx-blog/models/user.go:270sSELECT * FROM "users"  WHERE "users"."deleted_at" IS NULL AND ((email= ?)) LIMIT 1[lyx] 0
2020/07/11 13:36:58.394 [main.go:868]  [ORM] sqlD:/Goproject/src/lyx-blog/models/user.go:311.9988msINSERT INTO "users" ("created_at","updated_at","deleted_at","name","email","pwd","avatar","editor","role") VALUES (?,?,?,?,?,?,?,?,?)[2020-07-11 13:36:58.3922364 +0800 CST m=+390.900265701 2020-07-11 13:36:58.3922364 +0800 CST m=+390.900265701 <nil> lyx lyx@qq.com 123456 /static/images/info-ing.png  1] 1
2020/07/11 13:36:58.401 [D] [server.go:2807]  |      127.0.0.1|[42m 200 [0m|     9.9984ms|   match|[46m POST    [0m /reg   r:/reg
2020/07/11 13:36:58.720 [D] [server.go:2807]  |      127.0.0.1|[42m 200 [0m|     3.0032ms|   match|[44m GET     [0m /user   r:/user
2020/07/11 13:37:05.774 [main.go:868]  [ORM] sqlD:/Goproject/src/lyx-blog/models/user.go:160sSELECT * FROM "users"  WHERE "users"."deleted_at" IS NULL AND ((email=? and pwd=?)) LIMIT 1[lyx@qq.com 123456] 1
2020/07/11 13:37:05.774 [D] [server.go:2807]  |      127.0.0.1|[42m 200 [0m|      998.3Âµs|   match|[46m POST    [0m /login   r:/login
2020/07/11 13:37:06.105 [main.go:868]  [ORM] sqlD:/Goproject/src/lyx-blog/models/note.go:401.0037msSELECT * FROM "notes"  WHERE "notes"."deleted_at" IS NULL AND ((title like ?)) ORDER BY updated_at DESC LIMIT 3 OFFSET 0[%%] 2
2020/07/11 13:37:06.105 [main.go:868]  [ORM] sqlD:/Goproject/src/lyx-blog/models/note.go:340sSELECT count(*) FROM "notes"  WHERE "notes"."deleted_at" IS NULL AND ((title like ?))[%%] 0
2020/07/11 13:37:06.111 [D] [server.go:2807]  |      127.0.0.1|[42m 200 [0m|     6.9983ms|   match|[44m GET     [0m /     r:/
2020/07/11 13:37:09.241 [D] [server.go:2807]  |      127.0.0.1|[42m 200 [0m|      999.1Âµs| nomatch|[46m POST    [0m /praise//
2020/07/11 13:37:27.626 [D] [server.go:2807]  |      127.0.0.1|[42m 200 [0m|     2.0001ms| nomatch|[46m POST    [0m /praise//
2020/07/11 13:37:45.043 [main.go:868]  [ORM] sqlD:/Goproject/src/lyx-blog/models/note.go:241.0014msSELECT * FROM "notes"  WHERE "notes"."deleted_at" IS NULL AND ((key = ?)) LIMIT 1[72eb37ed-0b68-413a-8e82-b0b86a64cf3b] 1
2020/07/11 13:37:45.043 [main.go:868]  [ORM] sqlD:/Goproject/src/lyx-blog/models/message.go:210sSELECT * FROM "messages"  WHERE "messages"."deleted_at" IS NULL AND ((note_key = ? )) ORDER BY updated_at desc[72eb37ed-0b68-413a-8e82-b0b86a64cf3b] 0
2020/07/11 13:37:45.045 [D] [server.go:2807]  |      127.0.0.1|[42m 200 [0m|     3.0008ms|   match|[44m GET     [0m /details/72eb37ed-0b68-413a-8e82-b0b86a64cf3b   r:/details/:key
2020/07/11 13:37:49.299 [main.go:868]  [ORM] sqlD:/Goproject/src/lyx-blog/models/note.go:240sSELECT * FROM "notes"  WHERE "notes"."deleted_at" IS NULL AND ((key = ?)) LIMIT 1[72eb37ed-0b68-413a-8e82-b0b86a64cf3b] 1
2020/07/11 13:37:49.301 [D] [server.go:2807]  |      127.0.0.1|[42m 200 [0m|     1.9993ms|   match|[44m GET     [0m /comment/72eb37ed-0b68-413a-8e82-b0b86a64cf3b   r:/comment/:key
2020/07/11 13:38:02.062 [main.go:868]  [ORM] sqlD:/Goproject/src/lyx-blog/models/message.go:252.0001msUPDATE "users" SET "created_at" = ?, "updated_at" = ?, "deleted_at" = ?, "name" = ?, "email" = ?, "pwd" = ?, "avatar" = ?, "editor" = ?, "role" = ?  WHERE "users"."deleted_at" IS NULL AND "users"."id" = ?[2020-07-11 13:36:58.3922364 +0800 CST 2020-07-11 13:38:02.0609204 +0800 CST m=+454.568949701 <nil> lyx lyx@qq.com 123456 /static/images/info-ing.png  1 2] 1
2020/07/11 13:38:02.062 [main.go:868]  [ORM] sqlD:/Goproject/src/lyx-blog/models/message.go:250sINSERT INTO "messages" ("created_at","updated_at","deleted_at","key","user_id","note_key","content") VALUES (?,?,?,?,?,?,?)[2020-07-11 13:38:02.0629205 +0800 CST m=+454.570949801 2020-07-11 13:38:02.0629205 +0800 CST m=+454.570949801 <nil> 1230e80b-1689-45d3-9bfa-c8300b3dcb77 2 72eb37ed-0b68-413a-8e82-b0b86a64cf3b å†™çš„å¤ªå¥½äº†ï¼Œå¹²è´§] 1
2020/07/11 13:38:02.062 [main.go:868]  [ORM] sqlD:/Goproject/src/lyx-blog/models/message.go:250sSELECT "praise" FROM "messages"  WHERE (id = ?)[1] 1
2020/07/11 13:38:02.069 [D] [server.go:2807]  |      127.0.0.1|[42m 200 [0m|    10.0017ms|   match|[46m POST    [0m /message/new/72eb37ed-0b68-413a-8e82-b0b86a64cf3b   r:message/new/?:key
2020/07/11 13:38:02.410 [main.go:868]  [ORM] sqlD:/Goproject/src/lyx-blog/models/note.go:240sSELECT * FROM "notes"  WHERE "notes"."deleted_at" IS NULL AND ((key = ?)) LIMIT 1[72eb37ed-0b68-413a-8e82-b0b86a64cf3b] 1
2020/07/11 13:38:02.411 [main.go:868]  [ORM] sqlD:/Goproject/src/lyx-blog/models/message.go:21999.9ÂµsSELECT * FROM "messages"  WHERE "messages"."deleted_at" IS NULL AND ((note_key = ? )) ORDER BY updated_at desc[72eb37ed-0b68-413a-8e82-b0b86a64cf3b] 1
2020/07/11 13:38:02.411 [main.go:868]  [ORM] sqlD:/Goproject/src/lyx-blog/models/message.go:210sSELECT * FROM "users"  WHERE "users"."deleted_at" IS NULL AND (("id" IN (?)))[2] 1
2020/07/11 13:38:02.416 [D] [server.go:2807]  |      127.0.0.1|[42m 200 [0m|      6.997ms|   match|[44m GET     [0m /details/72eb37ed-0b68-413a-8e82-b0b86a64cf3b   r:/details/:key
2020/07/11 13:38:02.442 [D] [server.go:2807]  |      127.0.0.1|[43m 404 [0m|     3.0023ms| nomatch|[44m GET     [0m /static/images/info-ing.png
2020/07/11 13:38:15.211 [main.go:868]  [ORM] sqlD:/Goproject/src/lyx-blog/models/note.go:401.0019msSELECT * FROM "notes"  WHERE "notes"."deleted_at" IS NULL AND ((title like ?)) ORDER BY updated_at DESC LIMIT 3 OFFSET 0[%%] 2
2020/07/11 13:38:15.211 [main.go:868]  [ORM] sqlD:/Goproject/src/lyx-blog/models/note.go:340sSELECT count(*) FROM "notes"  WHERE "notes"."deleted_at" IS NULL AND ((title like ?))[%%] 0
2020/07/11 13:38:15.213 [D] [server.go:2807]  |      127.0.0.1|[42m 200 [0m|     3.9995ms|   match|[44m GET     [0m /     r:/
2020/07/11 13:38:25.206 [main.go:868]  [ORM] sqlD:/Goproject/src/lyx-blog/models/note.go:240sSELECT * FROM "notes"  WHERE "notes"."deleted_at" IS NULL AND ((key = ?)) LIMIT 1[72eb37ed-0b68-413a-8e82-b0b86a64cf3b] 1
2020/07/11 13:38:25.207 [main.go:868]  [ORM] sqlD:/Goproject/src/lyx-blog/models/message.go:211.0012msSELECT * FROM "messages"  WHERE "messages"."deleted_at" IS NULL AND ((note_key = ? )) ORDER BY updated_at desc[72eb37ed-0b68-413a-8e82-b0b86a64cf3b] 1
2020/07/11 13:38:25.207 [main.go:868]  [ORM] sqlD:/Goproject/src/lyx-blog/models/message.go:210sSELECT * FROM "users"  WHERE "users"."deleted_at" IS NULL AND (("id" IN (?)))[2] 1
2020/07/11 13:38:25.209 [D] [server.go:2807]  |      127.0.0.1|[42m 200 [0m|     4.0013ms|   match|[44m GET     [0m /details/72eb37ed-0b68-413a-8e82-b0b86a64cf3b   r:/details/:key
2020/07/11 13:38:25.232 [D] [server.go:2807]  |      127.0.0.1|[43m 404 [0m|     5.0013ms| nomatch|[44m GET     [0m /static/images/info-ing.png
2020/07/11 13:38:27.550 [C] [panic.go:969]  the request url is  /praise/note/72eb37ed-0b68-413a-8e82-b0b86a64cf3b
2020/07/11 13:38:27.550 [C] [panic.go:969]  Handler crashed with error runtime error: invalid memory address or nil pointer dereference
2020/07/11 13:38:27.550 [C] [panic.go:969]  C:/Go/src/runtime/panic.go:969
2020/07/11 13:38:27.550 [C] [panic.go:969]  C:/Go/src/runtime/panic.go:212
2020/07/11 13:38:27.550 [C] [panic.go:969]  C:/Go/src/runtime/signal_windows.go:246
2020/07/11 13:38:27.550 [C] [panic.go:969]  D:/Goproject/src/lyx-blog/models/core.go:22
2020/07/11 13:38:27.550 [C] [panic.go:969]  D:/Goproject/src/lyx-blog/controllers/praise.go:25
2020/07/11 13:38:27.550 [C] [panic.go:969]  C:/Go/src/reflect/value.go:460
2020/07/11 13:38:27.550 [C] [panic.go:969]  C:/Go/src/reflect/value.go:321
2020/07/11 13:38:27.550 [C] [panic.go:969]  D:/Goproject/pkg/mod/github.com/astaxie/beego@v1.12.1/router.go:853
2020/07/11 13:38:27.550 [C] [panic.go:969]  C:/Go/src/net/http/server.go:2807
2020/07/11 13:38:27.550 [C] [panic.go:969]  C:/Go/src/net/http/server.go:1895
2020/07/11 13:38:27.550 [C] [panic.go:969]  C:/Go/src/runtime/asm_amd64.s:1373
2020/07/11 13:38:27.550 [server.go:3059]  [HTTP] http: superfluous response.WriteHeader call from github.com/astaxie/beego/context.(*Response).WriteHeader (context.go:230)
2020/07/11 13:38:32.793 [C] [panic.go:969]  the request url is  /praise/note/72eb37ed-0b68-413a-8e82-b0b86a64cf3b
2020/07/11 13:38:32.793 [C] [panic.go:969]  Handler crashed with error runtime error: invalid memory address or nil pointer dereference
2020/07/11 13:38:32.793 [C] [panic.go:969]  C:/Go/src/runtime/panic.go:969
2020/07/11 13:38:32.793 [C] [panic.go:969]  C:/Go/src/runtime/panic.go:212
2020/07/11 13:38:32.793 [C] [panic.go:969]  C:/Go/src/runtime/signal_windows.go:246
2020/07/11 13:38:32.793 [C] [panic.go:969]  D:/Goproject/src/lyx-blog/models/core.go:22
2020/07/11 13:38:32.793 [C] [panic.go:969]  D:/Goproject/src/lyx-blog/controllers/praise.go:25
2020/07/11 13:38:32.793 [C] [panic.go:969]  C:/Go/src/reflect/value.go:460
2020/07/11 13:38:32.793 [C] [panic.go:969]  C:/Go/src/reflect/value.go:321
2020/07/11 13:38:32.793 [C] [panic.go:969]  D:/Goproject/pkg/mod/github.com/astaxie/beego@v1.12.1/router.go:853
2020/07/11 13:38:32.793 [C] [panic.go:969]  C:/Go/src/net/http/server.go:2807
2020/07/11 13:38:32.793 [C] [panic.go:969]  C:/Go/src/net/http/server.go:1895
2020/07/11 13:38:32.793 [C] [panic.go:969]  C:/Go/src/runtime/asm_amd64.s:1373
2020/07/11 13:38:32.793 [server.go:3059]  [HTTP] http: superfluous response.WriteHeader call from github.com/astaxie/beego/context.(*Response).WriteHeader (context.go:230)
2020/07/11 13:38:34.222 [C] [panic.go:969]  the request url is  /praise/message/1230e80b-1689-45d3-9bfa-c8300b3dcb77
2020/07/11 13:38:34.222 [C] [panic.go:969]  Handler crashed with error runtime error: invalid memory address or nil pointer dereference
2020/07/11 13:38:34.222 [C] [panic.go:969]  C:/Go/src/runtime/panic.go:969
2020/07/11 13:38:34.222 [C] [panic.go:969]  C:/Go/src/runtime/panic.go:212
2020/07/11 13:38:34.222 [C] [panic.go:969]  C:/Go/src/runtime/signal_windows.go:246
2020/07/11 13:38:34.222 [C] [panic.go:969]  D:/Goproject/src/lyx-blog/models/core.go:22
2020/07/11 13:38:34.222 [C] [panic.go:969]  D:/Goproject/src/lyx-blog/controllers/praise.go:25
2020/07/11 13:38:34.222 [C] [panic.go:969]  C:/Go/src/reflect/value.go:460
2020/07/11 13:38:34.222 [C] [panic.go:969]  C:/Go/src/reflect/value.go:321
2020/07/11 13:38:34.222 [C] [panic.go:969]  D:/Goproject/pkg/mod/github.com/astaxie/beego@v1.12.1/router.go:853
2020/07/11 13:38:34.222 [C] [panic.go:969]  C:/Go/src/net/http/server.go:2807
2020/07/11 13:38:34.222 [C] [panic.go:969]  C:/Go/src/net/http/server.go:1895
2020/07/11 13:38:34.222 [C] [panic.go:969]  C:/Go/src/runtime/asm_amd64.s:1373
2020/07/11 13:38:34.223 [server.go:3059]  [HTTP] http: superfluous response.WriteHeader call from github.com/astaxie/beego/context.(*Response).WriteHeader (context.go:230)
2020/07/11 13:40:43.848 [I] [asm_amd64.s:1373]  http server Running on http://:8080
2020/07/11 13:41:35.583 [main.go:868]  [ORM] sqlD:/Goproject/src/lyx-blog/models/note.go:40999ÂµsSELECT * FROM "notes"  WHERE "notes"."deleted_at" IS NULL AND ((title like ?)) ORDER BY updated_at DESC LIMIT 3 OFFSET 0[%%] 2
2020/07/11 13:41:35.583 [main.go:868]  [ORM] sqlD:/Goproject/src/lyx-blog/models/note.go:340sSELECT count(*) FROM "notes"  WHERE "notes"."deleted_at" IS NULL AND ((title like ?))[%%] 0
2020/07/11 13:41:35.585 [D] [controller.go:306]  template Execute err: template: index.html:34:8: executing "index.html" at <lt .page .totpage>: error calling lt: invalid type for comparison
2020/07/11 13:41:35.585 [E] [server.go:2807]  template: index.html:34:8: executing "index.html" at <lt .page .totpage>: error calling lt: invalid type for comparison
2020/07/11 13:41:35.585 [D] [server.go:2807]  |      127.0.0.1|[42m 200 [0m|     2.9983ms|   match|[44m GET     [0m /     r:/
2020/07/11 13:41:44.453 [main.go:868]  [ORM] sqlD:/Goproject/src/lyx-blog/models/note.go:40998.8ÂµsSELECT * FROM "notes"  WHERE "notes"."deleted_at" IS NULL AND ((title like ?)) ORDER BY updated_at DESC LIMIT 3 OFFSET 0[%%] 2
2020/07/11 13:41:44.453 [main.go:868]  [ORM] sqlD:/Goproject/src/lyx-blog/models/note.go:340sSELECT count(*) FROM "notes"  WHERE "notes"."deleted_at" IS NULL AND ((title like ?))[%%] 0
2020/07/11 13:41:44.454 [D] [controller.go:306]  template Execute err: template: index.html:34:8: executing "index.html" at <lt .page .totpage>: error calling lt: invalid type for comparison
2020/07/11 13:41:44.454 [E] [server.go:2807]  template: index.html:34:8: executing "index.html" at <lt .page .totpage>: error calling lt: invalid type for comparison
2020/07/11 13:41:44.454 [D] [server.go:2807]  |      127.0.0.1|[42m 200 [0m|     1.9999ms|   match|[44m GET     [0m /     r:/
2020/07/11 13:41:48.039 [main.go:868]  [ORM] sqlD:/Goproject/src/lyx-blog/models/note.go:401.0006msSELECT * FROM "notes"  WHERE "notes"."deleted_at" IS NULL AND ((title like ?)) ORDER BY updated_at DESC LIMIT 3 OFFSET 0[%%] 2
2020/07/11 13:41:48.039 [main.go:868]  [ORM] sqlD:/Goproject/src/lyx-blog/models/note.go:340sSELECT count(*) FROM "notes"  WHERE "notes"."deleted_at" IS NULL AND ((title like ?))[%%] 0
2020/07/11 13:41:48.040 [D] [controller.go:306]  template Execute err: template: index.html:34:8: executing "index.html" at <lt .page .totpage>: error calling lt: invalid type for comparison
2020/07/11 13:41:48.040 [E] [server.go:2807]  template: index.html:34:8: executing "index.html" at <lt .page .totpage>: error calling lt: invalid type for comparison
2020/07/11 13:41:48.040 [D] [server.go:2807]  |      127.0.0.1|[42m 200 [0m|     2.0002ms|   match|[44m GET     [0m /     r:/
2020/07/11 13:41:53.686 [main.go:868]  [ORM] sqlD:/Goproject/src/lyx-blog/models/note.go:401.0024msSELECT * FROM "notes"  WHERE "notes"."deleted_at" IS NULL AND ((title like ?)) ORDER BY updated_at DESC LIMIT 3 OFFSET 0[%%] 2
2020/07/11 13:41:53.686 [main.go:868]  [ORM] sqlD:/Goproject/src/lyx-blog/models/note.go:340sSELECT count(*) FROM "notes"  WHERE "notes"."deleted_at" IS NULL AND ((title like ?))[%%] 0
2020/07/11 13:41:53.688 [D] [controller.go:306]  template Execute err: template: index.html:34:8: executing "index.html" at <lt .page .totpage>: error calling lt: invalid type for comparison
2020/07/11 13:41:53.688 [E] [server.go:2807]  template: index.html:34:8: executing "index.html" at <lt .page .totpage>: error calling lt: invalid type for comparison
2020/07/11 13:41:53.688 [D] [server.go:2807]  |      127.0.0.1|[42m 200 [0m|     3.0017ms|   match|[44m GET     [0m /     r:/
2020/07/11 13:42:27.387 [main.go:868]  [ORM] sqlD:/Goproject/src/lyx-blog/models/note.go:401.0024msSELECT * FROM "notes"  WHERE "notes"."deleted_at" IS NULL AND ((title like ?)) ORDER BY updated_at DESC LIMIT 3 OFFSET 0[%%] 2
2020/07/11 13:42:27.387 [main.go:868]  [ORM] sqlD:/Goproject/src/lyx-blog/models/note.go:340sSELECT count(*) FROM "notes"  WHERE "notes"."deleted_at" IS NULL AND ((title like ?))[%%] 0
2020/07/11 13:42:27.390 [D] [controller.go:306]  template Execute err: template: index.html:34:8: executing "index.html" at <lt .page .totoalpage>: error calling lt: invalid type for comparison
2020/07/11 13:42:27.390 [E] [server.go:2807]  template: index.html:34:8: executing "index.html" at <lt .page .totoalpage>: error calling lt: invalid type for comparison
2020/07/11 13:42:27.390 [D] [server.go:2807]  |      127.0.0.1|[42m 200 [0m|     3.9998ms|   match|[44m GET     [0m /     r:/
2020/07/11 13:43:23.074 [main.go:868]  [ORM] sqlD:/Goproject/src/lyx-blog/models/note.go:401.0029msSELECT * FROM "notes"  WHERE "notes"."deleted_at" IS NULL AND ((title like ?)) ORDER BY updated_at DESC LIMIT 3 OFFSET 0[%%] 2
2020/07/11 13:43:23.074 [main.go:868]  [ORM] sqlD:/Goproject/src/lyx-blog/models/note.go:340sSELECT count(*) FROM "notes"  WHERE "notes"."deleted_at" IS NULL AND ((title like ?))[%%] 0
2020/07/11 13:43:23.076 [D] [server.go:2807]  |      127.0.0.1|[42m 200 [0m|     3.0037ms|   match|[44m GET     [0m /     r:/
2020/07/11 13:43:23.164 [D] [server.go:2807]  |      127.0.0.1|[42m 200 [0m|      999.2Âµs|   match|[44m GET     [0m /static/js/index.js
2020/07/11 13:43:23.190 [D] [server.go:2807]  |      127.0.0.1|[47m 304 [0m|           0s|   match|[44m GET     [0m /static/js/blog.js
2020/07/11 13:43:35.845 [main.go:868]  [ORM] sqlD:/Goproject/src/lyx-blog/models/note.go:240sSELECT * FROM "notes"  WHERE "notes"."deleted_at" IS NULL AND ((key = ?)) LIMIT 1[72eb37ed-0b68-413a-8e82-b0b86a64cf3b] 1
2020/07/11 13:43:35.845 [main.go:868]  [ORM] sqlD:/Goproject/src/lyx-blog/models/message.go:210sSELECT * FROM "messages"  WHERE "messages"."deleted_at" IS NULL AND ((note_key = ? )) ORDER BY updated_at desc[72eb37ed-0b68-413a-8e82-b0b86a64cf3b] 1
2020/07/11 13:43:35.846 [main.go:868]  [ORM] sqlD:/Goproject/src/lyx-blog/models/message.go:210sSELECT * FROM "users"  WHERE "users"."deleted_at" IS NULL AND (("id" IN (?)))[2] 1
2020/07/11 13:43:35.848 [D] [server.go:2807]  |      127.0.0.1|[42m 200 [0m|     3.9993ms|   match|[44m GET     [0m /details/72eb37ed-0b68-413a-8e82-b0b86a64cf3b   r:/details/:key
2020/07/11 13:43:35.941 [D] [server.go:2807]  |      127.0.0.1|[43m 404 [0m|     3.0019ms| nomatch|[44m GET     [0m /static/images/info-ing.png
2020/07/11 13:43:40.220 [C] [panic.go:969]  the request url is  /praise/note/72eb37ed-0b68-413a-8e82-b0b86a64cf3b
2020/07/11 13:43:40.220 [C] [panic.go:969]  Handler crashed with error runtime error: invalid memory address or nil pointer dereference
2020/07/11 13:43:40.220 [C] [panic.go:969]  C:/Go/src/runtime/panic.go:969
2020/07/11 13:43:40.220 [C] [panic.go:969]  C:/Go/src/runtime/panic.go:212
2020/07/11 13:43:40.220 [C] [panic.go:969]  C:/Go/src/runtime/signal_windows.go:246
2020/07/11 13:43:40.220 [C] [panic.go:969]  D:/Goproject/src/lyx-blog/models/core.go:22
2020/07/11 13:43:40.220 [C] [panic.go:969]  D:/Goproject/src/lyx-blog/controllers/praise.go:25
2020/07/11 13:43:40.220 [C] [panic.go:969]  C:/Go/src/reflect/value.go:460
2020/07/11 13:43:40.220 [C] [panic.go:969]  C:/Go/src/reflect/value.go:321
2020/07/11 13:43:40.220 [C] [panic.go:969]  D:/Goproject/pkg/mod/github.com/astaxie/beego@v1.12.1/router.go:853
2020/07/11 13:43:40.220 [C] [panic.go:969]  C:/Go/src/net/http/server.go:2807
2020/07/11 13:43:40.220 [C] [panic.go:969]  C:/Go/src/net/http/server.go:1895
2020/07/11 13:43:40.220 [C] [panic.go:969]  C:/Go/src/runtime/asm_amd64.s:1373
2020/07/11 13:43:40.220 [server.go:3059]  [HTTP] http: superfluous response.WriteHeader call from github.com/astaxie/beego/context.(*Response).WriteHeader (context.go:230)
2020/07/11 13:44:38.322 [D] [server.go:2807]  |      127.0.0.1|[42m 200 [0m|     2.0028ms|   match|[44m GET     [0m /user   r:/user
2020/07/11 13:44:40.205 [D] [server.go:2807]  |      127.0.0.1|[47m 302 [0m|           0s|   match|[44m GET     [0m /logout   r:/logout
2020/07/11 13:44:40.211 [main.go:868]  [ORM] sqlD:/Goproject/src/lyx-blog/models/note.go:400sSELECT * FROM "notes"  WHERE "notes"."deleted_at" IS NULL AND ((title like ?)) ORDER BY updated_at DESC LIMIT 3 OFFSET 0[%%] 2
2020/07/11 13:44:40.211 [main.go:868]  [ORM] sqlD:/Goproject/src/lyx-blog/models/note.go:340sSELECT count(*) FROM "notes"  WHERE "notes"."deleted_at" IS NULL AND ((title like ?))[%%] 0
2020/07/11 13:44:40.214 [D] [server.go:2807]  |      127.0.0.1|[42m 200 [0m|     3.9982ms|   match|[44m GET     [0m /     r:/
2020/07/11 13:44:41.574 [D] [server.go:2807]  |      127.0.0.1|[42m 200 [0m|     3.0025ms|   match|[44m GET     [0m /user   r:/user
2020/07/11 13:44:50.764 [main.go:868]  [ORM] sqlD:/Goproject/src/lyx-blog/models/user.go:161.001msSELECT * FROM "users"  WHERE "users"."deleted_at" IS NULL AND ((email=? and pwd=?)) LIMIT 1[admin@qq.com 123456] 1
2020/07/11 13:44:50.764 [D] [server.go:2807]  |      127.0.0.1|[42m 200 [0m|      1.001ms|   match|[46m POST    [0m /login   r:/login
2020/07/11 13:44:51.082 [main.go:868]  [ORM] sqlD:/Goproject/src/lyx-blog/models/note.go:400sSELECT * FROM "notes"  WHERE "notes"."deleted_at" IS NULL AND ((title like ?)) ORDER BY updated_at DESC LIMIT 3 OFFSET 0[%%] 2
2020/07/11 13:44:51.082 [main.go:868]  [ORM] sqlD:/Goproject/src/lyx-blog/models/note.go:340sSELECT count(*) FROM "notes"  WHERE "notes"."deleted_at" IS NULL AND ((title like ?))[%%] 0
2020/07/11 13:44:51.084 [D] [server.go:2807]  |      127.0.0.1|[42m 200 [0m|     1.9993ms|   match|[44m GET     [0m /     r:/
2020/07/11 13:44:52.500 [C] [panic.go:969]  the request url is  /praise/note/72eb37ed-0b68-413a-8e82-b0b86a64cf3b
2020/07/11 13:44:52.500 [C] [panic.go:969]  Handler crashed with error runtime error: invalid memory address or nil pointer dereference
2020/07/11 13:44:52.500 [C] [panic.go:969]  C:/Go/src/runtime/panic.go:969
2020/07/11 13:44:52.500 [C] [panic.go:969]  C:/Go/src/runtime/panic.go:212
2020/07/11 13:44:52.500 [C] [panic.go:969]  C:/Go/src/runtime/signal_windows.go:246
2020/07/11 13:44:52.500 [C] [panic.go:969]  D:/Goproject/src/lyx-blog/models/core.go:22
2020/07/11 13:44:52.500 [C] [panic.go:969]  D:/Goproject/src/lyx-blog/controllers/praise.go:25
2020/07/11 13:44:52.500 [C] [panic.go:969]  C:/Go/src/reflect/value.go:460
2020/07/11 13:44:52.500 [C] [panic.go:969]  C:/Go/src/reflect/value.go:321
2020/07/11 13:44:52.500 [C] [panic.go:969]  D:/Goproject/pkg/mod/github.com/astaxie/beego@v1.12.1/router.go:853
2020/07/11 13:44:52.500 [C] [panic.go:969]  C:/Go/src/net/http/server.go:2807
2020/07/11 13:44:52.500 [C] [panic.go:969]  C:/Go/src/net/http/server.go:1895
2020/07/11 13:44:52.500 [C] [panic.go:969]  C:/Go/src/runtime/asm_amd64.s:1373
2020/07/11 13:44:52.501 [server.go:3059]  [HTTP] http: superfluous response.WriteHeader call from github.com/astaxie/beego/context.(*Response).WriteHeader (context.go:230)
2020/07/11 13:44:56.416 [C] [panic.go:969]  the request url is  /praise/note/4a2a8824-5ae7-4bef-ae58-d3f4914fe00c
2020/07/11 13:44:56.416 [C] [panic.go:969]  Handler crashed with error runtime error: invalid memory address or nil pointer dereference
2020/07/11 13:44:56.416 [C] [panic.go:969]  C:/Go/src/runtime/panic.go:969
2020/07/11 13:44:56.416 [C] [panic.go:969]  C:/Go/src/runtime/panic.go:212
2020/07/11 13:44:56.416 [C] [panic.go:969]  C:/Go/src/runtime/signal_windows.go:246
2020/07/11 13:44:56.416 [C] [panic.go:969]  D:/Goproject/src/lyx-blog/models/core.go:22
2020/07/11 13:44:56.416 [C] [panic.go:969]  D:/Goproject/src/lyx-blog/controllers/praise.go:25
2020/07/11 13:44:56.416 [C] [panic.go:969]  C:/Go/src/reflect/value.go:460
2020/07/11 13:44:56.416 [C] [panic.go:969]  C:/Go/src/reflect/value.go:321
2020/07/11 13:44:56.416 [C] [panic.go:969]  D:/Goproject/pkg/mod/github.com/astaxie/beego@v1.12.1/router.go:853
2020/07/11 13:44:56.416 [C] [panic.go:969]  C:/Go/src/net/http/server.go:2807
2020/07/11 13:44:56.416 [C] [panic.go:969]  C:/Go/src/net/http/server.go:1895
2020/07/11 13:44:56.416 [C] [panic.go:969]  C:/Go/src/runtime/asm_amd64.s:1373
2020/07/11 13:44:56.417 [server.go:3059]  [HTTP] http: superfluous response.WriteHeader call from github.com/astaxie/beego/context.(*Response).WriteHeader (context.go:230)
2020/07/11 13:44:57.895 [main.go:868]  [ORM] sqlD:/Goproject/src/lyx-blog/models/note.go:240sSELECT * FROM "notes"  WHERE "notes"."deleted_at" IS NULL AND ((key = ?)) LIMIT 1[72eb37ed-0b68-413a-8e82-b0b86a64cf3b] 1
2020/07/11 13:44:57.895 [main.go:868]  [ORM] sqlD:/Goproject/src/lyx-blog/models/message.go:210sSELECT * FROM "messages"  WHERE "messages"."deleted_at" IS NULL AND ((note_key = ? )) ORDER BY updated_at desc[72eb37ed-0b68-413a-8e82-b0b86a64cf3b] 1
2020/07/11 13:44:57.896 [main.go:868]  [ORM] sqlD:/Goproject/src/lyx-blog/models/message.go:21997.6ÂµsSELECT * FROM "users"  WHERE "users"."deleted_at" IS NULL AND (("id" IN (?)))[2] 1
2020/07/11 13:44:57.898 [D] [server.go:2807]  |      127.0.0.1|[42m 200 [0m|     3.9992ms|   match|[44m GET     [0m /details/72eb37ed-0b68-413a-8e82-b0b86a64cf3b   r:/details/:key
2020/07/11 13:44:57.921 [D] [server.go:2807]  |      127.0.0.1|[43m 404 [0m|     3.0017ms| nomatch|[44m GET     [0m /static/images/info-ing.png
2020/07/11 13:46:35.383 [I] [asm_amd64.s:1373]  http server Running on http://:8080
2020/07/11 13:46:40.613 [main.go:868]  [ORM] sqlD:/Goproject/src/lyx-blog/models/note.go:240sSELECT * FROM "notes"  WHERE "notes"."deleted_at" IS NULL AND ((key = ?)) LIMIT 1[72eb37ed-0b68-413a-8e82-b0b86a64cf3b] 1
2020/07/11 13:46:40.614 [main.go:868]  [ORM] sqlD:/Goproject/src/lyx-blog/models/message.go:21999.9ÂµsSELECT * FROM "messages"  WHERE "messages"."deleted_at" IS NULL AND ((note_key = ? )) ORDER BY updated_at desc[72eb37ed-0b68-413a-8e82-b0b86a64cf3b] 1
2020/07/11 13:46:40.614 [main.go:868]  [ORM] sqlD:/Goproject/src/lyx-blog/models/message.go:210sSELECT * FROM "users"  WHERE "users"."deleted_at" IS NULL AND (("id" IN (?)))[2] 1
2020/07/11 13:46:40.617 [D] [server.go:2807]  |      127.0.0.1|[42m 200 [0m|     4.9951ms|   match|[44m GET     [0m /details/72eb37ed-0b68-413a-8e82-b0b86a64cf3b   r:/details/:key
2020/07/11 13:46:40.642 [D] [server.go:2807]  |      127.0.0.1|[43m 404 [0m|     3.0014ms| nomatch|[44m GET     [0m /static/images/info-ing.png
2020/07/11 13:48:09.643 [C] [panic.go:969]  the request url is  /praise/message/1230e80b-1689-45d3-9bfa-c8300b3dcb77
2020/07/11 13:48:09.643 [C] [panic.go:969]  Handler crashed with error runtime error: invalid memory address or nil pointer dereference
2020/07/11 13:48:09.643 [C] [panic.go:969]  C:/Go/src/runtime/panic.go:969
2020/07/11 13:48:09.643 [C] [panic.go:969]  C:/Go/src/runtime/panic.go:212
2020/07/11 13:48:09.643 [C] [panic.go:969]  C:/Go/src/runtime/signal_windows.go:246
2020/07/11 13:48:09.643 [C] [panic.go:969]  D:/Goproject/src/lyx-blog/models/core.go:22
2020/07/11 13:48:09.643 [C] [panic.go:969]  D:/Goproject/src/lyx-blog/controllers/praise.go:25
2020/07/11 13:48:09.643 [C] [panic.go:969]  C:/Go/src/reflect/value.go:460
2020/07/11 13:48:09.643 [C] [panic.go:969]  C:/Go/src/reflect/value.go:321
2020/07/11 13:48:09.643 [C] [panic.go:969]  D:/Goproject/pkg/mod/github.com/astaxie/beego@v1.12.1/router.go:853
2020/07/11 13:48:09.643 [C] [panic.go:969]  C:/Go/src/net/http/server.go:2807
2020/07/11 13:48:09.643 [C] [panic.go:969]  C:/Go/src/net/http/server.go:1895
2020/07/11 13:48:09.643 [C] [panic.go:969]  C:/Go/src/runtime/asm_amd64.s:1373
2020/07/11 13:48:09.643 [server.go:3059]  [HTTP] http: superfluous response.WriteHeader call from github.com/astaxie/beego/context.(*Response).WriteHeader (context.go:230)
2020/07/11 13:48:56.582 [main.go:868]  [ORM] sqlD:/Goproject/src/lyx-blog/models/note.go:240sSELECT * FROM "notes"  WHERE "notes"."deleted_at" IS NULL AND ((key = ?)) LIMIT 1[72eb37ed-0b68-413a-8e82-b0b86a64cf3b] 1
2020/07/11 13:48:56.584 [D] [server.go:2807]  |      127.0.0.1|[42m 200 [0m|     3.0026ms|   match|[44m GET     [0m /comment/72eb37ed-0b68-413a-8e82-b0b86a64cf3b   r:/comment/:key
2020/07/11 13:48:56.696 [D] [server.go:2807]  |      127.0.0.1|[47m 304 [0m|      998.7Âµs|   match|[44m GET     [0m /static/js/blog.js
2020/07/11 13:49:04.191 [C] [panic.go:969]  the request url is  /praise/note/72eb37ed-0b68-413a-8e82-b0b86a64cf3b
2020/07/11 13:49:04.191 [C] [panic.go:969]  Handler crashed with error runtime error: invalid memory address or nil pointer dereference
2020/07/11 13:49:04.191 [C] [panic.go:969]  C:/Go/src/runtime/panic.go:969
2020/07/11 13:49:04.191 [C] [panic.go:969]  C:/Go/src/runtime/panic.go:212
2020/07/11 13:49:04.191 [C] [panic.go:969]  C:/Go/src/runtime/signal_windows.go:246
2020/07/11 13:49:04.191 [C] [panic.go:969]  D:/Goproject/src/lyx-blog/models/core.go:22
2020/07/11 13:49:04.191 [C] [panic.go:969]  D:/Goproject/src/lyx-blog/controllers/praise.go:25
2020/07/11 13:49:04.191 [C] [panic.go:969]  C:/Go/src/reflect/value.go:460
2020/07/11 13:49:04.191 [C] [panic.go:969]  C:/Go/src/reflect/value.go:321
2020/07/11 13:49:04.191 [C] [panic.go:969]  D:/Goproject/pkg/mod/github.com/astaxie/beego@v1.12.1/router.go:853
2020/07/11 13:49:04.191 [C] [panic.go:969]  C:/Go/src/net/http/server.go:2807
2020/07/11 13:49:04.191 [C] [panic.go:969]  C:/Go/src/net/http/server.go:1895
2020/07/11 13:49:04.191 [C] [panic.go:969]  C:/Go/src/runtime/asm_amd64.s:1373
2020/07/11 13:49:04.191 [server.go:3059]  [HTTP] http: superfluous response.WriteHeader call from github.com/astaxie/beego/context.(*Response).WriteHeader (context.go:230)
2020/07/11 13:57:39.826 [I] [asm_amd64.s:1373]  http server Running on http://:8080
2020/07/11 13:58:00.597 [D] [server.go:2807]  |      127.0.0.1|[42m 200 [0m|     2.9993ms|   match|[44m GET     [0m /user   r:/user
2020/07/11 13:58:00.713 [D] [server.go:2807]  |      127.0.0.1|[47m 304 [0m|     1.0009ms|   match|[44m GET     [0m /static/js/blog.js
2020/07/11 13:58:06.251 [D] [server.go:2807]  |      127.0.0.1|[47m 302 [0m|           0s|   match|[44m GET     [0m /logout   r:/logout
2020/07/11 13:58:06.257 [main.go:868]  [ORM] sqlD:/Goproject/src/lyx-blog/models/note.go:401.0004msSELECT * FROM "notes"  WHERE "notes"."deleted_at" IS NULL AND ((title like ?)) ORDER BY updated_at DESC LIMIT 3 OFFSET 0[%%] 2
2020/07/11 13:58:06.257 [main.go:868]  [ORM] sqlD:/Goproject/src/lyx-blog/models/note.go:340sSELECT count(*) FROM "notes"  WHERE "notes"."deleted_at" IS NULL AND ((title like ?))[%%] 0
2020/07/11 13:58:06.259 [D] [server.go:2807]  |      127.0.0.1|[42m 200 [0m|     2.9993ms|   match|[44m GET     [0m /     r:/
2020/07/11 13:58:10.161 [D] [server.go:2807]  |      127.0.0.1|[42m 200 [0m|     1.9993ms|   match|[44m GET     [0m /user   r:/user
2020/07/11 13:58:15.323 [D] [server.go:2807]  |      127.0.0.1|[42m 200 [0m|     2.0004ms|   match|[44m GET     [0m /reg   r:/reg
2020/07/11 13:58:35.386 [main.go:868]  [ORM] sqlD:/Goproject/src/lyx-blog/models/user.go:210sSELECT * FROM "users"  WHERE "users"."deleted_at" IS NULL AND ((name= ?)) LIMIT 1[lr] 0
2020/07/11 13:58:35.386 [main.go:868]  [ORM] sqlD:/Goproject/src/lyx-blog/models/user.go:270sSELECT * FROM "users"  WHERE "users"."deleted_at" IS NULL AND ((email= ?)) LIMIT 1[lr] 0
2020/07/11 13:58:35.388 [main.go:868]  [ORM] sqlD:/Goproject/src/lyx-blog/models/user.go:311.9994msINSERT INTO "users" ("created_at","updated_at","deleted_at","name","email","pwd","avatar","editor","role") VALUES (?,?,?,?,?,?,?,?,?)[2020-07-11 13:58:35.3868192 +0800 CST m=+55.675580501 2020-07-11 13:58:35.3868192 +0800 CST m=+55.675580501 <nil> lr lr@qq.com 123456 /static/images/info-ing.png  1] 1
2020/07/11 13:58:35.393 [D] [server.go:2807]  |      127.0.0.1|[42m 200 [0m|     8.0001ms|   match|[46m POST    [0m /reg   r:/reg
2020/07/11 13:58:35.720 [D] [server.go:2807]  |      127.0.0.1|[42m 200 [0m|     2.0029ms|   match|[44m GET     [0m /user   r:/user
2020/07/11 13:59:34.293 [I] [asm_amd64.s:1373]  http server Running on http://:8080
2020/07/11 14:03:34.640 [I] [asm_amd64.s:1373]  http server Running on http://:8080
2020/07/11 14:07:09.065 [D] [server.go:2807]  |      127.0.0.1|[42m 200 [0m|     2.0007ms|   match|[44m GET     [0m /user   r:/user
2020/07/11 14:07:09.172 [D] [server.go:2807]  |      127.0.0.1|[47m 304 [0m|     1.0001ms|   match|[44m GET     [0m /static/js/blog.js
2020/07/11 14:07:10.013 [D] [server.go:2807]  |      127.0.0.1|[42m 200 [0m|     3.0021ms|   match|[44m GET     [0m /user   r:/user
2020/07/11 14:07:20.765 [main.go:868]  [ORM] sqlD:/Goproject/src/lyx-blog/models/user.go:161.0007msSELECT * FROM "users"  WHERE "users"."deleted_at" IS NULL AND ((email=? and pwd=?)) LIMIT 1[admin@qq.com 123456] 1
2020/07/11 14:07:20.765 [D] [server.go:2807]  |      127.0.0.1|[42m 200 [0m|     1.0007ms|   match|[46m POST    [0m /login   r:/login
2020/07/11 14:07:21.082 [main.go:868]  [ORM] sqlD:/Goproject/src/lyx-blog/models/note.go:400sSELECT * FROM "notes"  WHERE "notes"."deleted_at" IS NULL AND ((title like ?)) ORDER BY updated_at DESC LIMIT 3 OFFSET 0[%%] 2
2020/07/11 14:07:21.083 [main.go:868]  [ORM] sqlD:/Goproject/src/lyx-blog/models/note.go:341msSELECT count(*) FROM "notes"  WHERE "notes"."deleted_at" IS NULL AND ((title like ?))[%%] 0
2020/07/11 14:07:21.084 [D] [server.go:2807]  |      127.0.0.1|[42m 200 [0m|     1.9992ms|   match|[44m GET     [0m /     r:/
2020/07/11 14:07:22.640 [C] [panic.go:969]  the request url is  /praise/note/72eb37ed-0b68-413a-8e82-b0b86a64cf3b
2020/07/11 14:07:22.640 [C] [panic.go:969]  Handler crashed with error runtime error: invalid memory address or nil pointer dereference
2020/07/11 14:07:22.640 [C] [panic.go:969]  C:/Go/src/runtime/panic.go:969
2020/07/11 14:07:22.640 [C] [panic.go:969]  C:/Go/src/runtime/panic.go:212
2020/07/11 14:07:22.640 [C] [panic.go:969]  C:/Go/src/runtime/signal_windows.go:246
2020/07/11 14:07:22.640 [C] [panic.go:969]  D:/Goproject/src/lyx-blog/models/core.go:22
2020/07/11 14:07:22.640 [C] [panic.go:969]  D:/Goproject/src/lyx-blog/controllers/praise.go:25
2020/07/11 14:07:22.640 [C] [panic.go:969]  C:/Go/src/reflect/value.go:460
2020/07/11 14:07:22.640 [C] [panic.go:969]  C:/Go/src/reflect/value.go:321
2020/07/11 14:07:22.640 [C] [panic.go:969]  D:/Goproject/pkg/mod/github.com/astaxie/beego@v1.12.1/router.go:853
2020/07/11 14:07:22.640 [C] [panic.go:969]  C:/Go/src/net/http/server.go:2807
2020/07/11 14:07:22.640 [C] [panic.go:969]  C:/Go/src/net/http/server.go:1895
2020/07/11 14:07:22.640 [C] [panic.go:969]  C:/Go/src/runtime/asm_amd64.s:1373
2020/07/11 14:07:22.640 [server.go:3059]  [HTTP] http: superfluous response.WriteHeader call from github.com/astaxie/beego/context.(*Response).WriteHeader (context.go:230)
2020/07/11 14:09:26.775 [C] [panic.go:969]  the request url is  /praise/note/72eb37ed-0b68-413a-8e82-b0b86a64cf3b
2020/07/11 14:09:26.775 [C] [panic.go:969]  Handler crashed with error runtime error: invalid memory address or nil pointer dereference
2020/07/11 14:09:26.775 [C] [panic.go:969]  C:/Go/src/runtime/panic.go:969
2020/07/11 14:09:26.775 [C] [panic.go:969]  C:/Go/src/runtime/panic.go:212
2020/07/11 14:09:26.775 [C] [panic.go:969]  C:/Go/src/runtime/signal_windows.go:246
2020/07/11 14:09:26.775 [C] [panic.go:969]  D:/Goproject/src/lyx-blog/models/core.go:22
2020/07/11 14:09:26.775 [C] [panic.go:969]  D:/Goproject/src/lyx-blog/controllers/praise.go:25
2020/07/11 14:09:26.775 [C] [panic.go:969]  C:/Go/src/reflect/value.go:460
2020/07/11 14:09:26.775 [C] [panic.go:969]  C:/Go/src/reflect/value.go:321
2020/07/11 14:09:26.775 [C] [panic.go:969]  D:/Goproject/pkg/mod/github.com/astaxie/beego@v1.12.1/router.go:853
2020/07/11 14:09:26.775 [C] [panic.go:969]  C:/Go/src/net/http/server.go:2807
2020/07/11 14:09:26.775 [C] [panic.go:969]  C:/Go/src/net/http/server.go:1895
2020/07/11 14:09:26.775 [C] [panic.go:969]  C:/Go/src/runtime/asm_amd64.s:1373
2020/07/11 14:09:26.775 [server.go:3059]  [HTTP] http: superfluous response.WriteHeader call from github.com/astaxie/beego/context.(*Response).WriteHeader (context.go:230)
2020/07/11 14:09:31.854 [C] [panic.go:969]  the request url is  /praise/note/72eb37ed-0b68-413a-8e82-b0b86a64cf3b
2020/07/11 14:09:31.854 [C] [panic.go:969]  Handler crashed with error runtime error: invalid memory address or nil pointer dereference
2020/07/11 14:09:31.854 [C] [panic.go:969]  C:/Go/src/runtime/panic.go:969
2020/07/11 14:09:31.854 [C] [panic.go:969]  C:/Go/src/runtime/panic.go:212
2020/07/11 14:09:31.854 [C] [panic.go:969]  C:/Go/src/runtime/signal_windows.go:246
2020/07/11 14:09:31.854 [C] [panic.go:969]  D:/Goproject/src/lyx-blog/models/core.go:22
2020/07/11 14:09:31.854 [C] [panic.go:969]  D:/Goproject/src/lyx-blog/controllers/praise.go:25
2020/07/11 14:09:31.854 [C] [panic.go:969]  C:/Go/src/reflect/value.go:460
2020/07/11 14:09:31.854 [C] [panic.go:969]  C:/Go/src/reflect/value.go:321
2020/07/11 14:09:31.854 [C] [panic.go:969]  D:/Goproject/pkg/mod/github.com/astaxie/beego@v1.12.1/router.go:853
2020/07/11 14:09:31.854 [C] [panic.go:969]  C:/Go/src/net/http/server.go:2807
2020/07/11 14:09:31.854 [C] [panic.go:969]  C:/Go/src/net/http/server.go:1895
2020/07/11 14:09:31.854 [C] [panic.go:969]  C:/Go/src/runtime/asm_amd64.s:1373
2020/07/11 14:09:31.854 [server.go:3059]  [HTTP] http: superfluous response.WriteHeader call from github.com/astaxie/beego/context.(*Response).WriteHeader (context.go:230)
2020/07/11 14:09:34.275 [main.go:868]  [ORM] sqlD:/Goproject/src/lyx-blog/models/note.go:400sSELECT * FROM "notes"  WHERE "notes"."deleted_at" IS NULL AND ((title like ?)) ORDER BY updated_at DESC LIMIT 3 OFFSET 0[%%] 2
2020/07/11 14:09:34.275 [main.go:868]  [ORM] sqlD:/Goproject/src/lyx-blog/models/note.go:340sSELECT count(*) FROM "notes"  WHERE "notes"."deleted_at" IS NULL AND ((title like ?))[%%] 0
2020/07/11 14:09:34.278 [D] [server.go:2807]  |      127.0.0.1|[42m 200 [0m|     4.0015ms|   match|[44m GET     [0m /     r:/
2020/07/11 14:10:05.144 [C] [panic.go:969]  the request url is  /praise/note/72eb37ed-0b68-413a-8e82-b0b86a64cf3b
2020/07/11 14:10:05.144 [C] [panic.go:969]  Handler crashed with error runtime error: invalid memory address or nil pointer dereference
2020/07/11 14:10:05.144 [C] [panic.go:969]  C:/Go/src/runtime/panic.go:969
2020/07/11 14:10:05.144 [C] [panic.go:969]  C:/Go/src/runtime/panic.go:212
2020/07/11 14:10:05.144 [C] [panic.go:969]  C:/Go/src/runtime/signal_windows.go:246
2020/07/11 14:10:05.144 [C] [panic.go:969]  D:/Goproject/src/lyx-blog/models/core.go:22
2020/07/11 14:10:05.144 [C] [panic.go:969]  D:/Goproject/src/lyx-blog/controllers/praise.go:25
2020/07/11 14:10:05.144 [C] [panic.go:969]  C:/Go/src/reflect/value.go:460
2020/07/11 14:10:05.144 [C] [panic.go:969]  C:/Go/src/reflect/value.go:321
2020/07/11 14:10:05.144 [C] [panic.go:969]  D:/Goproject/pkg/mod/github.com/astaxie/beego@v1.12.1/router.go:853
2020/07/11 14:10:05.145 [C] [panic.go:969]  C:/Go/src/net/http/server.go:2807
2020/07/11 14:10:05.145 [C] [panic.go:969]  C:/Go/src/net/http/server.go:1895
2020/07/11 14:10:05.145 [C] [panic.go:969]  C:/Go/src/runtime/asm_amd64.s:1373
2020/07/11 14:10:05.145 [server.go:3059]  [HTTP] http: superfluous response.WriteHeader call from github.com/astaxie/beego/context.(*Response).WriteHeader (context.go:230)
2020/07/11 14:10:11.768 [C] [panic.go:969]  the request url is  /praise/note/72eb37ed-0b68-413a-8e82-b0b86a64cf3b
2020/07/11 14:10:11.768 [C] [panic.go:969]  Handler crashed with error runtime error: invalid memory address or nil pointer dereference
2020/07/11 14:10:11.768 [C] [panic.go:969]  C:/Go/src/runtime/panic.go:969
2020/07/11 14:10:11.768 [C] [panic.go:969]  C:/Go/src/runtime/panic.go:212
2020/07/11 14:10:11.768 [C] [panic.go:969]  C:/Go/src/runtime/signal_windows.go:246
2020/07/11 14:10:11.768 [C] [panic.go:969]  D:/Goproject/src/lyx-blog/models/core.go:22
2020/07/11 14:10:11.768 [C] [panic.go:969]  D:/Goproject/src/lyx-blog/controllers/praise.go:25
2020/07/11 14:10:11.768 [C] [panic.go:969]  C:/Go/src/reflect/value.go:460
2020/07/11 14:10:11.768 [C] [panic.go:969]  C:/Go/src/reflect/value.go:321
2020/07/11 14:10:11.768 [C] [panic.go:969]  D:/Goproject/pkg/mod/github.com/astaxie/beego@v1.12.1/router.go:853
2020/07/11 14:10:11.768 [C] [panic.go:969]  C:/Go/src/net/http/server.go:2807
2020/07/11 14:10:11.768 [C] [panic.go:969]  C:/Go/src/net/http/server.go:1895
2020/07/11 14:10:11.768 [C] [panic.go:969]  C:/Go/src/runtime/asm_amd64.s:1373
2020/07/11 14:10:11.768 [server.go:3059]  [HTTP] http: superfluous response.WriteHeader call from github.com/astaxie/beego/context.(*Response).WriteHeader (context.go:230)
2020/07/11 14:10:13.524 [main.go:868]  [ORM] sqlD:/Goproject/src/lyx-blog/models/note.go:401.0026msSELECT * FROM "notes"  WHERE "notes"."deleted_at" IS NULL AND ((title like ?)) ORDER BY updated_at DESC LIMIT 3 OFFSET 0[%%] 2
2020/07/11 14:10:13.524 [main.go:868]  [ORM] sqlD:/Goproject/src/lyx-blog/models/note.go:340sSELECT count(*) FROM "notes"  WHERE "notes"."deleted_at" IS NULL AND ((title like ?))[%%] 0
2020/07/11 14:10:13.527 [D] [server.go:2807]  |      127.0.0.1|[42m 200 [0m|     4.0002ms|   match|[44m GET     [0m /     r:/
2020/07/11 14:10:27.660 [main.go:868]  [ORM] sqlD:/Goproject/src/lyx-blog/models/note.go:240sSELECT * FROM "notes"  WHERE "notes"."deleted_at" IS NULL AND ((key = ?)) LIMIT 1[72eb37ed-0b68-413a-8e82-b0b86a64cf3b] 1
2020/07/11 14:10:27.660 [main.go:868]  [ORM] sqlD:/Goproject/src/lyx-blog/models/message.go:210sSELECT * FROM "messages"  WHERE "messages"."deleted_at" IS NULL AND ((note_key = ? )) ORDER BY updated_at desc[72eb37ed-0b68-413a-8e82-b0b86a64cf3b] 1
2020/07/11 14:10:27.661 [main.go:868]  [ORM] sqlD:/Goproject/src/lyx-blog/models/message.go:21999.1ÂµsSELECT * FROM "users"  WHERE "users"."deleted_at" IS NULL AND (("id" IN (?)))[2] 1
2020/07/11 14:10:27.663 [D] [server.go:2807]  |      127.0.0.1|[42m 200 [0m|     2.9985ms|   match|[44m GET     [0m /details/72eb37ed-0b68-413a-8e82-b0b86a64cf3b   r:/details/:key
2020/07/11 14:13:53.216 [main.go:868]  [ORM] sqlD:/Goproject/src/lyx-blog/models/note.go:400sSELECT * FROM "notes"  WHERE "notes"."deleted_at" IS NULL AND ((title like ?)) ORDER BY updated_at DESC LIMIT 3 OFFSET 0[%%] 2
2020/07/11 14:13:53.217 [main.go:868]  [ORM] sqlD:/Goproject/src/lyx-blog/models/note.go:340sSELECT count(*) FROM "notes"  WHERE "notes"."deleted_at" IS NULL AND ((title like ?))[%%] 0
2020/07/11 14:13:53.219 [D] [server.go:2807]  |      127.0.0.1|[42m 200 [0m|     4.0001ms|   match|[44m GET     [0m /     r:/
2020/07/11 14:13:58.889 [main.go:868]  [ORM] sqlD:/Goproject/src/lyx-blog/models/note.go:240sSELECT * FROM "notes"  WHERE "notes"."deleted_at" IS NULL AND ((key = ?)) LIMIT 1[72eb37ed-0b68-413a-8e82-b0b86a64cf3b] 1
2020/07/11 14:13:58.889 [main.go:868]  [ORM] sqlD:/Goproject/src/lyx-blog/models/message.go:210sSELECT * FROM "messages"  WHERE "messages"."deleted_at" IS NULL AND ((note_key = ? )) ORDER BY updated_at desc[72eb37ed-0b68-413a-8e82-b0b86a64cf3b] 1
2020/07/11 14:13:58.890 [main.go:868]  [ORM] sqlD:/Goproject/src/lyx-blog/models/message.go:21999.8ÂµsSELECT * FROM "users"  WHERE "users"."deleted_at" IS NULL AND (("id" IN (?)))[2] 1
2020/07/11 14:13:58.892 [D] [server.go:2807]  |      127.0.0.1|[42m 200 [0m|     3.9986ms|   match|[44m GET     [0m /details/72eb37ed-0b68-413a-8e82-b0b86a64cf3b   r:/details/:key
2020/07/11 14:20:11.149 [main.go:868]  [ORM] sqlD:/Goproject/src/lyx-blog/models/note.go:240sSELECT * FROM "notes"  WHERE "notes"."deleted_at" IS NULL AND ((key = ?)) LIMIT 1[72eb37ed-0b68-413a-8e82-b0b86a64cf3b] 1
2020/07/11 14:20:11.149 [main.go:868]  [ORM] sqlD:/Goproject/src/lyx-blog/models/message.go:210sSELECT * FROM "messages"  WHERE "messages"."deleted_at" IS NULL AND ((note_key = ? )) ORDER BY updated_at desc[72eb37ed-0b68-413a-8e82-b0b86a64cf3b] 1
2020/07/11 14:20:11.149 [main.go:868]  [ORM] sqlD:/Goproject/src/lyx-blog/models/message.go:210sSELECT * FROM "users"  WHERE "users"."deleted_at" IS NULL AND (("id" IN (?)))[2] 1
2020/07/11 14:20:11.152 [D] [server.go:2807]  |      127.0.0.1|[42m 200 [0m|     3.9991ms|   match|[44m GET     [0m /details/72eb37ed-0b68-413a-8e82-b0b86a64cf3b   r:/details/:key
2020/07/11 14:20:11.262 [D] [server.go:2807]  |      127.0.0.1|[47m 304 [0m|     1.0002ms|   match|[44m GET     [0m /static/js/blog.js
2020/07/11 14:20:40.841 [main.go:868]  [ORM] sqlD:/Goproject/src/lyx-blog/models/note.go:240sSELECT * FROM "notes"  WHERE "notes"."deleted_at" IS NULL AND ((key = ?)) LIMIT 1[72eb37ed-0b68-413a-8e82-b0b86a64cf3b] 1
2020/07/11 14:20:40.841 [main.go:868]  [ORM] sqlD:/Goproject/src/lyx-blog/models/message.go:210sSELECT * FROM "messages"  WHERE "messages"."deleted_at" IS NULL AND ((note_key = ? )) ORDER BY updated_at desc[72eb37ed-0b68-413a-8e82-b0b86a64cf3b] 1
2020/07/11 14:20:40.842 [main.go:868]  [ORM] sqlD:/Goproject/src/lyx-blog/models/message.go:210sSELECT * FROM "users"  WHERE "users"."deleted_at" IS NULL AND (("id" IN (?)))[2] 1
2020/07/11 14:20:40.845 [D] [server.go:2807]  |      127.0.0.1|[42m 200 [0m|     5.0013ms|   match|[44m GET     [0m /details/72eb37ed-0b68-413a-8e82-b0b86a64cf3b   r:/details/:key
2020/07/11 14:20:44.311 [main.go:868]  [ORM] sqlD:/Goproject/src/lyx-blog/models/note.go:400sSELECT * FROM "notes"  WHERE "notes"."deleted_at" IS NULL AND ((title like ?)) ORDER BY updated_at DESC LIMIT 3 OFFSET 0[%%] 2
2020/07/11 14:20:44.311 [main.go:868]  [ORM] sqlD:/Goproject/src/lyx-blog/models/note.go:340sSELECT count(*) FROM "notes"  WHERE "notes"."deleted_at" IS NULL AND ((title like ?))[%%] 0
2020/07/11 14:20:44.313 [D] [server.go:2807]  |      127.0.0.1|[42m 200 [0m|     3.0025ms|   match|[44m GET     [0m /     r:/
2020/07/11 14:20:45.314 [main.go:868]  [ORM] sqlD:/Goproject/src/lyx-blog/models/note.go:240sSELECT * FROM "notes"  WHERE "notes"."deleted_at" IS NULL AND ((key = ?)) LIMIT 1[72eb37ed-0b68-413a-8e82-b0b86a64cf3b] 1
2020/07/11 14:20:45.315 [main.go:868]  [ORM] sqlD:/Goproject/src/lyx-blog/models/message.go:21999.7ÂµsSELECT * FROM "messages"  WHERE "messages"."deleted_at" IS NULL AND ((note_key = ? )) ORDER BY updated_at desc[72eb37ed-0b68-413a-8e82-b0b86a64cf3b] 1
2020/07/11 14:20:45.316 [main.go:868]  [ORM] sqlD:/Goproject/src/lyx-blog/models/message.go:211.0018msSELECT * FROM "users"  WHERE "users"."deleted_at" IS NULL AND (("id" IN (?)))[2] 1
2020/07/11 14:20:45.317 [D] [server.go:2807]  |      127.0.0.1|[42m 200 [0m|      3.001ms|   match|[44m GET     [0m /details/72eb37ed-0b68-413a-8e82-b0b86a64cf3b   r:/details/:key
2020/07/11 14:21:01.161 [main.go:868]  [ORM] sqlD:/Goproject/src/lyx-blog/models/note.go:440sSELECT * FROM "notes"  WHERE "notes"."deleted_at" IS NULL AND ((`key` = ? and user_id = ?)) LIMIT 1[72eb37ed-0b68-413a-8e82-b0b86a64cf3b 1] 1
2020/07/11 14:21:01.164 [D] [server.go:2807]  |      127.0.0.1|[42m 200 [0m|     3.0001ms|   match|[44m GET     [0m /note/edit/72eb37ed-0b68-413a-8e82-b0b86a64cf3b   r:note/edit/:key
2020/07/11 14:21:10.179 [C] [panic.go:969]  the request url is  /praise/note/72eb37ed-0b68-413a-8e82-b0b86a64cf3b
2020/07/11 14:21:10.179 [C] [panic.go:969]  Handler crashed with error runtime error: invalid memory address or nil pointer dereference
2020/07/11 14:21:10.179 [C] [panic.go:969]  C:/Go/src/runtime/panic.go:969
2020/07/11 14:21:10.179 [C] [panic.go:969]  C:/Go/src/runtime/panic.go:212
2020/07/11 14:21:10.179 [C] [panic.go:969]  C:/Go/src/runtime/signal_windows.go:246
2020/07/11 14:21:10.179 [C] [panic.go:969]  D:/Goproject/src/lyx-blog/models/core.go:22
2020/07/11 14:21:10.179 [C] [panic.go:969]  D:/Goproject/src/lyx-blog/controllers/praise.go:25
2020/07/11 14:21:10.179 [C] [panic.go:969]  C:/Go/src/reflect/value.go:460
2020/07/11 14:21:10.179 [C] [panic.go:969]  C:/Go/src/reflect/value.go:321
2020/07/11 14:21:10.179 [C] [panic.go:969]  D:/Goproject/pkg/mod/github.com/astaxie/beego@v1.12.1/router.go:853
2020/07/11 14:21:10.179 [C] [panic.go:969]  C:/Go/src/net/http/server.go:2807
2020/07/11 14:21:10.179 [C] [panic.go:969]  C:/Go/src/net/http/server.go:1895
2020/07/11 14:21:10.179 [C] [panic.go:969]  C:/Go/src/runtime/asm_amd64.s:1373
2020/07/11 14:21:10.180 [server.go:3059]  [HTTP] http: superfluous response.WriteHeader call from github.com/astaxie/beego/context.(*Response).WriteHeader (context.go:230)
2020/07/11 14:22:21.836 [main.go:868]  [ORM] sqlD:/Goproject/src/lyx-blog/models/note.go:240sSELECT * FROM "notes"  WHERE "notes"."deleted_at" IS NULL AND ((key = ?)) LIMIT 1[72eb37ed-0b68-413a-8e82-b0b86a64cf3b] 1
2020/07/11 14:22:21.837 [main.go:868]  [ORM] sqlD:/Goproject/src/lyx-blog/models/message.go:21998.5ÂµsSELECT * FROM "messages"  WHERE "messages"."deleted_at" IS NULL AND ((note_key = ? )) ORDER BY updated_at desc[72eb37ed-0b68-413a-8e82-b0b86a64cf3b] 1
2020/07/11 14:22:21.837 [main.go:868]  [ORM] sqlD:/Goproject/src/lyx-blog/models/message.go:210sSELECT * FROM "users"  WHERE "users"."deleted_at" IS NULL AND (("id" IN (?)))[2] 1
2020/07/11 14:22:21.839 [D] [server.go:2807]  |      127.0.0.1|[42m 200 [0m|     3.9975ms|   match|[44m GET     [0m /details/72eb37ed-0b68-413a-8e82-b0b86a64cf3b   r:/details/:key
2020/07/11 14:22:23.202 [main.go:868]  [ORM] sqlD:/Goproject/src/lyx-blog/models/note.go:241.0595msSELECT * FROM "notes"  WHERE "notes"."deleted_at" IS NULL AND ((key = ?)) LIMIT 1[72eb37ed-0b68-413a-8e82-b0b86a64cf3b] 1
2020/07/11 14:22:23.202 [main.go:868]  [ORM] sqlD:/Goproject/src/lyx-blog/models/message.go:210sSELECT * FROM "messages"  WHERE "messages"."deleted_at" IS NULL AND ((note_key = ? )) ORDER BY updated_at desc[72eb37ed-0b68-413a-8e82-b0b86a64cf3b] 1
2020/07/11 14:22:23.202 [main.go:868]  [ORM] sqlD:/Goproject/src/lyx-blog/models/message.go:210sSELECT * FROM "users"  WHERE "users"."deleted_at" IS NULL AND (("id" IN (?)))[2] 1
2020/07/11 14:22:23.205 [D] [server.go:2807]  |      127.0.0.1|[42m 200 [0m|     4.9981ms|   match|[44m GET     [0m /details/72eb37ed-0b68-413a-8e82-b0b86a64cf3b   r:/details/:key
2020/07/11 14:22:27.334 [D] [server.go:2807]  |      127.0.0.1|[42m 200 [0m|      2.001ms|   match|[44m GET     [0m /message   r:/message
2020/07/11 14:22:27.512 [main.go:868]  [ORM] sqlD:/Goproject/src/lyx-blog/models/message.go:290sSELECT count(*) FROM "messages"  WHERE "messages"."deleted_at" IS NULL AND ((note_key = ?))[] 0
2020/07/11 14:22:27.512 [D] [server.go:2807]  |      127.0.0.1|[42m 200 [0m|           0s|   match|[44m GET     [0m /message/count   r:message/count
2020/07/11 14:22:34.746 [main.go:868]  [ORM] sqlD:/Goproject/src/lyx-blog/models/message.go:252.9988msUPDATE "users" SET "created_at" = ?, "updated_at" = ?, "deleted_at" = ?, "name" = ?, "email" = ?, "avatar" = ?, "pwd" = ?, "role" = ?, "editor" = ?  WHERE "users"."deleted_at" IS NULL AND "users"."id" = ?[2020-07-11 13:22:22.5863856 +0800 CST 2020-07-11 14:22:34.7432939 +0800 CST m=+1140.246698901 <nil> admin admin@qq.com /static/images/info-img.png 123456 0  1] 1
2020/07/11 14:22:34.746 [main.go:868]  [ORM] sqlD:/Goproject/src/lyx-blog/models/message.go:250sINSERT INTO "messages" ("created_at","updated_at","deleted_at","key","user_id","note_key","content") VALUES (?,?,?,?,?,?,?)[2020-07-11 14:22:34.7462927 +0800 CST m=+1140.249697701 2020-07-11 14:22:34.7462927 +0800 CST m=+1140.249697701 <nil> 727c8b41-1224-4f14-8f60-a9322f574d15 1  ä½ å¥½] 1
2020/07/11 14:22:34.746 [main.go:868]  [ORM] sqlD:/Goproject/src/lyx-blog/models/message.go:250sSELECT "praise" FROM "messages"  WHERE (id = ?)[2] 1
2020/07/11 14:22:34.754 [D] [server.go:2807]  |      127.0.0.1|[42m 200 [0m|    12.9994ms|   match|[46m POST    [0m /message/new   r:message/new/?:key
2020/07/11 14:22:37.097 [D] [server.go:2807]  |      127.0.0.1|[42m 200 [0m|     1.9972ms|   match|[44m GET     [0m /about   r:/about
2020/07/11 14:22:37.802 [D] [server.go:2807]  |      127.0.0.1|[42m 200 [0m|     2.0002ms|   match|[44m GET     [0m /message   r:/message
2020/07/11 14:22:37.954 [main.go:868]  [ORM] sqlD:/Goproject/src/lyx-blog/models/message.go:290sSELECT count(*) FROM "messages"  WHERE "messages"."deleted_at" IS NULL AND ((note_key = ?))[] 0
2020/07/11 14:22:37.955 [D] [server.go:2807]  |      127.0.0.1|[42m 200 [0m|     2.0013ms|   match|[44m GET     [0m /message/count   r:message/count
2020/07/11 14:22:37.962 [main.go:868]  [ORM] sqlD:/Goproject/src/lyx-blog/models/message.go:320sSELECT * FROM "messages"  WHERE "messages"."deleted_at" IS NULL AND ((note_key = ?)) ORDER BY updated_at desc LIMIT 5 OFFSET 0[] 1
2020/07/11 14:22:37.962 [main.go:868]  [ORM] sqlD:/Goproject/src/lyx-blog/models/message.go:320sSELECT * FROM "users"  WHERE "users"."deleted_at" IS NULL AND (("id" IN (?)))[1] 1
2020/07/11 14:22:37.962 [D] [server.go:2807]  |      127.0.0.1|[42m 200 [0m|     1.0009ms|   match|[44m GET     [0m /message/query   r:message/query
2020/07/11 14:22:39.846 [main.go:868]  [ORM] sqlD:/Goproject/src/lyx-blog/models/note.go:401.0021msSELECT * FROM "notes"  WHERE "notes"."deleted_at" IS NULL AND ((title like ?)) ORDER BY updated_at DESC LIMIT 3 OFFSET 0[%%] 2
2020/07/11 14:22:39.846 [main.go:868]  [ORM] sqlD:/Goproject/src/lyx-blog/models/note.go:340sSELECT count(*) FROM "notes"  WHERE "notes"."deleted_at" IS NULL AND ((title like ?))[%%] 0
2020/07/11 14:22:39.847 [D] [server.go:2807]  |      127.0.0.1|[42m 200 [0m|     2.0018ms|   match|[44m GET     [0m /     r:/
2020/07/11 14:22:47.576 [D] [server.go:2807]  |      127.0.0.1|[42m 200 [0m|     2.0008ms| nomatch|[46m POST    [0m /praise//
2020/07/11 14:22:54.430 [D] [server.go:2807]  |      127.0.0.1|[42m 200 [0m|     1.9995ms| nomatch|[46m POST    [0m /praise//
2020/07/11 14:37:12.083 [D] [server.go:2807]  |      127.0.0.1|[42m 200 [0m|     3.0026ms| nomatch|[46m POST    [0m /praise//
2020/07/11 15:09:47.486 [main.go:868]  [ORM] sqlD:/Goproject/src/lyx-blog/models/note.go:40999.1ÂµsSELECT * FROM "notes"  WHERE "notes"."deleted_at" IS NULL AND ((title like ?)) ORDER BY updated_at DESC LIMIT 3 OFFSET 0[%%] 2
2020/07/11 15:09:47.486 [main.go:868]  [ORM] sqlD:/Goproject/src/lyx-blog/models/note.go:340sSELECT count(*) FROM "notes"  WHERE "notes"."deleted_at" IS NULL AND ((title like ?))[%%] 0
2020/07/11 15:09:47.488 [D] [server.go:2807]  |      127.0.0.1|[42m 200 [0m|     2.9998ms|   match|[44m GET     [0m /     r:/
2020/07/11 15:09:47.596 [D] [server.go:2807]  |      127.0.0.1|[47m 304 [0m|     1.0005ms|   match|[44m GET     [0m /static/js/blog.js
2020/07/11 15:10:00.578 [main.go:868]  [ORM] sqlD:/Goproject/src/lyx-blog/models/note.go:400sSELECT * FROM "notes"  WHERE "notes"."deleted_at" IS NULL AND ((title like ?)) ORDER BY updated_at DESC LIMIT 3 OFFSET 0[%%] 2
2020/07/11 15:10:00.578 [main.go:868]  [ORM] sqlD:/Goproject/src/lyx-blog/models/note.go:340sSELECT count(*) FROM "notes"  WHERE "notes"."deleted_at" IS NULL AND ((title like ?))[%%] 0
2020/07/11 15:10:00.580 [D] [server.go:2807]  |      127.0.0.1|[42m 200 [0m|     3.0011ms|   match|[44m GET     [0m /     r:/
2020/07/11 15:10:01.704 [main.go:868]  [ORM] sqlD:/Goproject/src/lyx-blog/models/note.go:401.0015msSELECT * FROM "notes"  WHERE "notes"."deleted_at" IS NULL AND ((title like ?)) ORDER BY updated_at DESC LIMIT 3 OFFSET 0[%%] 2
2020/07/11 15:10:01.704 [main.go:868]  [ORM] sqlD:/Goproject/src/lyx-blog/models/note.go:340sSELECT count(*) FROM "notes"  WHERE "notes"."deleted_at" IS NULL AND ((title like ?))[%%] 0
2020/07/11 15:10:01.706 [D] [server.go:2807]  |      127.0.0.1|[42m 200 [0m|     3.0005ms|   match|[44m GET     [0m /     r:/
2020/07/11 15:14:04.681 [main.go:868]  [ORM] sqlD:/Goproject/src/lyx-blog/models/note.go:400sSELECT * FROM "notes"  WHERE "notes"."deleted_at" IS NULL AND ((title like ?)) ORDER BY updated_at DESC LIMIT 3 OFFSET 0[%%] 2
2020/07/11 15:14:04.682 [main.go:868]  [ORM] sqlD:/Goproject/src/lyx-blog/models/note.go:341.0006msSELECT count(*) FROM "notes"  WHERE "notes"."deleted_at" IS NULL AND ((title like ?))[%%] 0
2020/07/11 15:14:04.683 [D] [server.go:2807]  |      127.0.0.1|[42m 200 [0m|     3.0002ms|   match|[44m GET     [0m /     r:/
2020/07/11 15:14:06.445 [main.go:868]  [ORM] sqlD:/Goproject/src/lyx-blog/models/note.go:240sSELECT * FROM "notes"  WHERE "notes"."deleted_at" IS NULL AND ((key = ?)) LIMIT 1[72eb37ed-0b68-413a-8e82-b0b86a64cf3b] 1
2020/07/11 15:14:06.445 [main.go:868]  [ORM] sqlD:/Goproject/src/lyx-blog/models/message.go:210sSELECT * FROM "messages"  WHERE "messages"."deleted_at" IS NULL AND ((note_key = ? )) ORDER BY updated_at desc[72eb37ed-0b68-413a-8e82-b0b86a64cf3b] 1
2020/07/11 15:14:06.445 [main.go:868]  [ORM] sqlD:/Goproject/src/lyx-blog/models/message.go:210sSELECT * FROM "users"  WHERE "users"."deleted_at" IS NULL AND (("id" IN (?)))[2] 1
2020/07/11 15:14:06.448 [D] [server.go:2807]  |      127.0.0.1|[42m 200 [0m|     4.0015ms|   match|[44m GET     [0m /details/72eb37ed-0b68-413a-8e82-b0b86a64cf3b   r:/details/:key
2020/07/11 15:14:59.152 [C] [panic.go:969]  the request url is  /praise/note/72eb37ed-0b68-413a-8e82-b0b86a64cf3b
2020/07/11 15:14:59.152 [C] [panic.go:969]  Handler crashed with error runtime error: invalid memory address or nil pointer dereference
2020/07/11 15:14:59.152 [C] [panic.go:969]  C:/Go/src/runtime/panic.go:969
2020/07/11 15:14:59.152 [C] [panic.go:969]  C:/Go/src/runtime/panic.go:212
2020/07/11 15:14:59.152 [C] [panic.go:969]  C:/Go/src/runtime/signal_windows.go:246
2020/07/11 15:14:59.152 [C] [panic.go:969]  D:/Goproject/src/lyx-blog/models/core.go:22
2020/07/11 15:14:59.152 [C] [panic.go:969]  D:/Goproject/src/lyx-blog/controllers/praise.go:25
2020/07/11 15:14:59.152 [C] [panic.go:969]  C:/Go/src/reflect/value.go:460
2020/07/11 15:14:59.152 [C] [panic.go:969]  C:/Go/src/reflect/value.go:321
2020/07/11 15:14:59.152 [C] [panic.go:969]  D:/Goproject/pkg/mod/github.com/astaxie/beego@v1.12.1/router.go:853
2020/07/11 15:14:59.152 [C] [panic.go:969]  C:/Go/src/net/http/server.go:2807
2020/07/11 15:14:59.152 [C] [panic.go:969]  C:/Go/src/net/http/server.go:1895
2020/07/11 15:14:59.152 [C] [panic.go:969]  C:/Go/src/runtime/asm_amd64.s:1373
2020/07/11 15:14:59.152 [server.go:3059]  [HTTP] http: superfluous response.WriteHeader call from github.com/astaxie/beego/context.(*Response).WriteHeader (context.go:230)
2020/07/11 15:18:20.742 [main.go:868]  [ORM] sqlD:/Goproject/src/lyx-blog/models/note.go:240sSELECT * FROM "notes"  WHERE "notes"."deleted_at" IS NULL AND ((key = ?)) LIMIT 1[72eb37ed-0b68-413a-8e82-b0b86a64cf3b] 1
2020/07/11 15:18:20.742 [main.go:868]  [ORM] sqlD:/Goproject/src/lyx-blog/models/message.go:210sSELECT * FROM "messages"  WHERE "messages"."deleted_at" IS NULL AND ((note_key = ? )) ORDER BY updated_at desc[72eb37ed-0b68-413a-8e82-b0b86a64cf3b] 1
2020/07/11 15:18:20.742 [main.go:868]  [ORM] sqlD:/Goproject/src/lyx-blog/models/message.go:210sSELECT * FROM "users"  WHERE "users"."deleted_at" IS NULL AND (("id" IN (?)))[2] 1
2020/07/11 15:18:20.745 [D] [server.go:2807]  |      127.0.0.1|[42m 200 [0m|     4.0002ms|   match|[44m GET     [0m /details/72eb37ed-0b68-413a-8e82-b0b86a64cf3b   r:/details/:key
2020/07/11 15:18:24.603 [main.go:868]  [ORM] sqlD:/Goproject/src/lyx-blog/models/note.go:400sSELECT * FROM "notes"  WHERE "notes"."deleted_at" IS NULL AND ((title like ?)) ORDER BY updated_at DESC LIMIT 3 OFFSET 0[%%] 2
2020/07/11 15:18:24.603 [main.go:868]  [ORM] sqlD:/Goproject/src/lyx-blog/models/note.go:340sSELECT count(*) FROM "notes"  WHERE "notes"."deleted_at" IS NULL AND ((title like ?))[%%] 0
2020/07/11 15:18:24.606 [D] [server.go:2807]  |      127.0.0.1|[42m 200 [0m|     3.9981ms|   match|[44m GET     [0m /     r:/
2020/07/11 15:18:27.000 [main.go:868]  [ORM] sqlD:/Goproject/src/lyx-blog/models/note.go:24983.4ÂµsSELECT * FROM "notes"  WHERE "notes"."deleted_at" IS NULL AND ((key = ?)) LIMIT 1[72eb37ed-0b68-413a-8e82-b0b86a64cf3b] 1
2020/07/11 15:18:27.000 [main.go:868]  [ORM] sqlD:/Goproject/src/lyx-blog/models/message.go:210sSELECT * FROM "messages"  WHERE "messages"."deleted_at" IS NULL AND ((note_key = ? )) ORDER BY updated_at desc[72eb37ed-0b68-413a-8e82-b0b86a64cf3b] 1
2020/07/11 15:18:27.000 [main.go:868]  [ORM] sqlD:/Goproject/src/lyx-blog/models/message.go:210sSELECT * FROM "users"  WHERE "users"."deleted_at" IS NULL AND (("id" IN (?)))[2] 1
2020/07/11 15:18:27.002 [D] [server.go:2807]  |      127.0.0.1|[42m 200 [0m|     2.9844ms|   match|[44m GET     [0m /details/72eb37ed-0b68-413a-8e82-b0b86a64cf3b   r:/details/:key
2020/07/11 15:18:42.716 [C] [panic.go:969]  the request url is  /praise/note/72eb37ed-0b68-413a-8e82-b0b86a64cf3b
2020/07/11 15:18:42.716 [C] [panic.go:969]  Handler crashed with error runtime error: invalid memory address or nil pointer dereference
2020/07/11 15:18:42.716 [C] [panic.go:969]  C:/Go/src/runtime/panic.go:969
2020/07/11 15:18:42.716 [C] [panic.go:969]  C:/Go/src/runtime/panic.go:212
2020/07/11 15:18:42.716 [C] [panic.go:969]  C:/Go/src/runtime/signal_windows.go:246
2020/07/11 15:18:42.716 [C] [panic.go:969]  D:/Goproject/src/lyx-blog/models/core.go:22
2020/07/11 15:18:42.716 [C] [panic.go:969]  D:/Goproject/src/lyx-blog/controllers/praise.go:25
2020/07/11 15:18:42.716 [C] [panic.go:969]  C:/Go/src/reflect/value.go:460
2020/07/11 15:18:42.716 [C] [panic.go:969]  C:/Go/src/reflect/value.go:321
2020/07/11 15:18:42.716 [C] [panic.go:969]  D:/Goproject/pkg/mod/github.com/astaxie/beego@v1.12.1/router.go:853
2020/07/11 15:18:42.716 [C] [panic.go:969]  C:/Go/src/net/http/server.go:2807
2020/07/11 15:18:42.716 [C] [panic.go:969]  C:/Go/src/net/http/server.go:1895
2020/07/11 15:18:42.716 [C] [panic.go:969]  C:/Go/src/runtime/asm_amd64.s:1373
2020/07/11 15:18:42.716 [server.go:3059]  [HTTP] http: superfluous response.WriteHeader call from github.com/astaxie/beego/context.(*Response).WriteHeader (context.go:230)
2020/07/11 15:18:47.737 [C] [panic.go:969]  the request url is  /praise/note/72eb37ed-0b68-413a-8e82-b0b86a64cf3b
2020/07/11 15:18:47.737 [C] [panic.go:969]  Handler crashed with error runtime error: invalid memory address or nil pointer dereference
2020/07/11 15:18:47.737 [C] [panic.go:969]  C:/Go/src/runtime/panic.go:969
2020/07/11 15:18:47.737 [C] [panic.go:969]  C:/Go/src/runtime/panic.go:212
2020/07/11 15:18:47.737 [C] [panic.go:969]  C:/Go/src/runtime/signal_windows.go:246
2020/07/11 15:18:47.737 [C] [panic.go:969]  D:/Goproject/src/lyx-blog/models/core.go:22
2020/07/11 15:18:47.737 [C] [panic.go:969]  D:/Goproject/src/lyx-blog/controllers/praise.go:25
2020/07/11 15:18:47.737 [C] [panic.go:969]  C:/Go/src/reflect/value.go:460
2020/07/11 15:18:47.737 [C] [panic.go:969]  C:/Go/src/reflect/value.go:321
2020/07/11 15:18:47.737 [C] [panic.go:969]  D:/Goproject/pkg/mod/github.com/astaxie/beego@v1.12.1/router.go:853
2020/07/11 15:18:47.737 [C] [panic.go:969]  C:/Go/src/net/http/server.go:2807
2020/07/11 15:18:47.737 [C] [panic.go:969]  C:/Go/src/net/http/server.go:1895
2020/07/11 15:18:47.737 [C] [panic.go:969]  C:/Go/src/runtime/asm_amd64.s:1373
2020/07/11 15:18:47.737 [server.go:3059]  [HTTP] http: superfluous response.WriteHeader call from github.com/astaxie/beego/context.(*Response).WriteHeader (context.go:230)
2020/07/11 15:18:49.376 [C] [panic.go:969]  the request url is  /praise/note/72eb37ed-0b68-413a-8e82-b0b86a64cf3b
2020/07/11 15:18:49.376 [C] [panic.go:969]  Handler crashed with error runtime error: invalid memory address or nil pointer dereference
2020/07/11 15:18:49.376 [C] [panic.go:969]  C:/Go/src/runtime/panic.go:969
2020/07/11 15:18:49.376 [C] [panic.go:969]  C:/Go/src/runtime/panic.go:212
2020/07/11 15:18:49.376 [C] [panic.go:969]  C:/Go/src/runtime/signal_windows.go:246
2020/07/11 15:18:49.376 [C] [panic.go:969]  D:/Goproject/src/lyx-blog/models/core.go:22
2020/07/11 15:18:49.376 [C] [panic.go:969]  D:/Goproject/src/lyx-blog/controllers/praise.go:25
2020/07/11 15:18:49.376 [C] [panic.go:969]  C:/Go/src/reflect/value.go:460
2020/07/11 15:18:49.376 [C] [panic.go:969]  C:/Go/src/reflect/value.go:321
2020/07/11 15:18:49.376 [C] [panic.go:969]  D:/Goproject/pkg/mod/github.com/astaxie/beego@v1.12.1/router.go:853
2020/07/11 15:18:49.376 [C] [panic.go:969]  C:/Go/src/net/http/server.go:2807
2020/07/11 15:18:49.376 [C] [panic.go:969]  C:/Go/src/net/http/server.go:1895
2020/07/11 15:18:49.376 [C] [panic.go:969]  C:/Go/src/runtime/asm_amd64.s:1373
2020/07/11 15:18:49.376 [server.go:3059]  [HTTP] http: superfluous response.WriteHeader call from github.com/astaxie/beego/context.(*Response).WriteHeader (context.go:230)
2020/07/11 15:18:50.076 [C] [panic.go:969]  the request url is  /praise/note/72eb37ed-0b68-413a-8e82-b0b86a64cf3b
2020/07/11 15:18:50.076 [C] [panic.go:969]  Handler crashed with error runtime error: invalid memory address or nil pointer dereference
2020/07/11 15:18:50.076 [C] [panic.go:969]  C:/Go/src/runtime/panic.go:969
2020/07/11 15:18:50.076 [C] [panic.go:969]  C:/Go/src/runtime/panic.go:212
2020/07/11 15:18:50.076 [C] [panic.go:969]  C:/Go/src/runtime/signal_windows.go:246
2020/07/11 15:18:50.076 [C] [panic.go:969]  D:/Goproject/src/lyx-blog/models/core.go:22
2020/07/11 15:18:50.076 [C] [panic.go:969]  D:/Goproject/src/lyx-blog/controllers/praise.go:25
2020/07/11 15:18:50.076 [C] [panic.go:969]  C:/Go/src/reflect/value.go:460
2020/07/11 15:18:50.076 [C] [panic.go:969]  C:/Go/src/reflect/value.go:321
2020/07/11 15:18:50.076 [C] [panic.go:969]  D:/Goproject/pkg/mod/github.com/astaxie/beego@v1.12.1/router.go:853
2020/07/11 15:18:50.076 [C] [panic.go:969]  C:/Go/src/net/http/server.go:2807
2020/07/11 15:18:50.076 [C] [panic.go:969]  C:/Go/src/net/http/server.go:1895
2020/07/11 15:18:50.076 [C] [panic.go:969]  C:/Go/src/runtime/asm_amd64.s:1373
2020/07/11 15:18:50.076 [server.go:3059]  [HTTP] http: superfluous response.WriteHeader call from github.com/astaxie/beego/context.(*Response).WriteHeader (context.go:230)
2020/07/11 15:19:47.738 [main.go:868]  [ORM] sqlD:/Goproject/src/lyx-blog/models/note.go:240sSELECT * FROM "notes"  WHERE "notes"."deleted_at" IS NULL AND ((key = ?)) LIMIT 1[72eb37ed-0b68-413a-8e82-b0b86a64cf3b] 1
2020/07/11 15:19:47.739 [main.go:868]  [ORM] sqlD:/Goproject/src/lyx-blog/models/message.go:211.0035msSELECT * FROM "messages"  WHERE "messages"."deleted_at" IS NULL AND ((note_key = ? )) ORDER BY updated_at desc[72eb37ed-0b68-413a-8e82-b0b86a64cf3b] 1
2020/07/11 15:19:47.739 [main.go:868]  [ORM] sqlD:/Goproject/src/lyx-blog/models/message.go:210sSELECT * FROM "users"  WHERE "users"."deleted_at" IS NULL AND (("id" IN (?)))[2] 1
2020/07/11 15:19:47.741 [D] [server.go:2807]  |      127.0.0.1|[42m 200 [0m|     3.0017ms|   match|[44m GET     [0m /details/72eb37ed-0b68-413a-8e82-b0b86a64cf3b   r:/details/:key
2020/07/11 15:19:49.698 [D] [server.go:2807]  |      127.0.0.1|[42m 200 [0m|     2.9998ms|   match|[44m GET     [0m /message   r:/message
2020/07/11 15:19:49.883 [main.go:868]  [ORM] sqlD:/Goproject/src/lyx-blog/models/message.go:290sSELECT count(*) FROM "messages"  WHERE "messages"."deleted_at" IS NULL AND ((note_key = ?))[] 0
2020/07/11 15:19:49.883 [D] [server.go:2807]  |      127.0.0.1|[42m 200 [0m|           0s|   match|[44m GET     [0m /message/count   r:message/count
2020/07/11 15:19:49.890 [main.go:868]  [ORM] sqlD:/Goproject/src/lyx-blog/models/message.go:320sSELECT * FROM "messages"  WHERE "messages"."deleted_at" IS NULL AND ((note_key = ?)) ORDER BY updated_at desc LIMIT 5 OFFSET 0[] 1
2020/07/11 15:19:49.890 [main.go:868]  [ORM] sqlD:/Goproject/src/lyx-blog/models/message.go:320sSELECT * FROM "users"  WHERE "users"."deleted_at" IS NULL AND (("id" IN (?)))[1] 1
2020/07/11 15:19:49.890 [D] [server.go:2807]  |      127.0.0.1|[42m 200 [0m|     1.0002ms|   match|[44m GET     [0m /message/query   r:message/query
2020/07/11 15:19:51.336 [C] [panic.go:969]  the request url is  /praise/message/727c8b41-1224-4f14-8f60-a9322f574d15
2020/07/11 15:19:51.336 [C] [panic.go:969]  Handler crashed with error runtime error: invalid memory address or nil pointer dereference
2020/07/11 15:19:51.336 [C] [panic.go:969]  C:/Go/src/runtime/panic.go:969
2020/07/11 15:19:51.336 [C] [panic.go:969]  C:/Go/src/runtime/panic.go:212
2020/07/11 15:19:51.336 [C] [panic.go:969]  C:/Go/src/runtime/signal_windows.go:246
2020/07/11 15:19:51.336 [C] [panic.go:969]  D:/Goproject/src/lyx-blog/models/core.go:22
2020/07/11 15:19:51.336 [C] [panic.go:969]  D:/Goproject/src/lyx-blog/controllers/praise.go:25
2020/07/11 15:19:51.336 [C] [panic.go:969]  C:/Go/src/reflect/value.go:460
2020/07/11 15:19:51.336 [C] [panic.go:969]  C:/Go/src/reflect/value.go:321
2020/07/11 15:19:51.336 [C] [panic.go:969]  D:/Goproject/pkg/mod/github.com/astaxie/beego@v1.12.1/router.go:853
2020/07/11 15:19:51.336 [C] [panic.go:969]  C:/Go/src/net/http/server.go:2807
2020/07/11 15:19:51.336 [C] [panic.go:969]  C:/Go/src/net/http/server.go:1895
2020/07/11 15:19:51.336 [C] [panic.go:969]  C:/Go/src/runtime/asm_amd64.s:1373
2020/07/11 15:19:51.337 [server.go:3059]  [HTTP] http: superfluous response.WriteHeader call from github.com/astaxie/beego/context.(*Response).WriteHeader (context.go:230)
2020/07/11 15:19:51.349 [C] [panic.go:969]  the request url is  /praise/message/727c8b41-1224-4f14-8f60-a9322f574d15
2020/07/11 15:19:51.349 [C] [panic.go:969]  Handler crashed with error runtime error: invalid memory address or nil pointer dereference
2020/07/11 15:19:51.349 [C] [panic.go:969]  C:/Go/src/runtime/panic.go:969
2020/07/11 15:19:51.349 [C] [panic.go:969]  C:/Go/src/runtime/panic.go:212
2020/07/11 15:19:51.349 [C] [panic.go:969]  C:/Go/src/runtime/signal_windows.go:246
2020/07/11 15:19:51.349 [C] [panic.go:969]  D:/Goproject/src/lyx-blog/models/core.go:22
2020/07/11 15:19:51.349 [C] [panic.go:969]  D:/Goproject/src/lyx-blog/controllers/praise.go:25
2020/07/11 15:19:51.349 [C] [panic.go:969]  C:/Go/src/reflect/value.go:460
2020/07/11 15:19:51.349 [C] [panic.go:969]  C:/Go/src/reflect/value.go:321
2020/07/11 15:19:51.349 [C] [panic.go:969]  D:/Goproject/pkg/mod/github.com/astaxie/beego@v1.12.1/router.go:853
2020/07/11 15:19:51.349 [C] [panic.go:969]  C:/Go/src/net/http/server.go:2807
2020/07/11 15:19:51.349 [C] [panic.go:969]  C:/Go/src/net/http/server.go:1895
2020/07/11 15:19:51.349 [C] [panic.go:969]  C:/Go/src/runtime/asm_amd64.s:1373
2020/07/11 15:19:51.349 [server.go:3059]  [HTTP] http: superfluous response.WriteHeader call from github.com/astaxie/beego/context.(*Response).WriteHeader (context.go:230)
